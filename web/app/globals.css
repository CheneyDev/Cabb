@tailwind base;
@tailwind components;
@tailwind utilities;

@theme inline {
  --color-destructive-foreground: var(--destructive-foreground);
  --color-info: var(--info);
  --color-info-foreground: var(--info-foreground);
  --color-success: var(--success);
  --color-success-foreground: var(--success-foreground);
  --color-warning: var(--warning);
  --color-warning-foreground: var(--warning-foreground);
}

@layer base {
  :root {
    color-scheme: dark;
    --background: oklch(0.141 0.005 285.823);
    --foreground: oklch(0.967 0.001 286.375);
    --card: color-mix(in srgb, oklch(0.21 0.006 285.885) 80%, oklch(0.141 0.005 285.823));
    --card-foreground: oklch(0.967 0.001 286.375);
    --popover: oklch(0.21 0.006 285.885);
    --popover-foreground: oklch(0.967 0.001 286.375);
    --primary: oklch(0.967 0.001 286.375);
    --primary-foreground: oklch(0.21 0.006 285.885);
    --secondary: oklch(1 0 0 / 8%);
    --secondary-foreground: oklch(0.967 0.001 286.375);
    --muted: oklch(1 0 0 / 8%);
    --muted-foreground: oklch(0.705 0.015 286.067);
    --accent: oklch(1 0 0 / 8%);
    --accent-foreground: oklch(0.967 0.001 286.375);
    --destructive: oklch(0.637 0.237 25.331);
    --destructive-foreground: oklch(0.704 0.191 22.216);
    --info: oklch(0.623 0.214 259.815);
    --info-foreground: oklch(0.707 0.165 254.624);
    --success: oklch(0.696 0.17 162.48);
    --success-foreground: oklch(0.765 0.177 163.223);
    --warning: oklch(0.769 0.188 70.08);
    --warning-foreground: oklch(0.828 0.189 84.429);
    --border: oklch(1 0 0 / 12%);
    --input: oklch(1 0 0 / 12%);
    --ring: oklch(0.552 0.016 285.938);
  }

  * {
    @apply border-transparent;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: 'Inter', 'HarmonyOS Sans', 'SF Pro Display', 'Segoe UI', sans-serif;
    background:
      radial-gradient(120% 120% at 50% 0%, color-mix(in srgb, var(--foreground) 6%, transparent), transparent 70%)
      var(--background);
    min-height: 100vh;
  }

  ::selection {
    background: color-mix(in srgb, var(--primary) 35%, transparent);
    color: var(--primary-foreground);
  }

  a {
    @apply text-primary;
  }

  code {
    @apply rounded-md bg-[color-mix(in_srgb,var(--foreground)_12%,transparent)] px-1 py-0.5 text-[0.85em];
  }
}

@layer components {
  .card-surface {
    background: color-mix(in srgb, var(--card) 78%, transparent);
    border: 1px solid color-mix(in srgb, var(--border) 75%, transparent);
    box-shadow: 0 1px 0 color-mix(in srgb, var(--foreground) 8%, transparent), 0 28px 60px -42px rgba(15, 23, 42, 0.82);
  }

  .header-surface {
    background: color-mix(in srgb, var(--background) 90%, transparent);
    border-bottom: 1px solid color-mix(in srgb, var(--border) 70%, transparent);
    backdrop-filter: blur(18px);
  }

  .nav-link {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: 0.35rem;
    padding: 0.45rem 0.95rem;
    border-radius: 9999px;
    font-size: 0.85rem;
    font-weight: 500;
    color: color-mix(in srgb, var(--foreground) 70%, transparent);
    transition: color 0.2s ease, background 0.2s ease;
  }

  .nav-link::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: inherit;
    background: color-mix(in srgb, var(--foreground) 6%, transparent);
    opacity: 0;
    transition: opacity 0.2s ease;
  }

  .nav-link--active {
    color: var(--foreground);
  }

  .nav-link--active::after {
    opacity: 1;
  }

  .nav-link:hover {
    color: var(--foreground);
  }

  .nav-link:hover::after {
    opacity: 1;
  }

  .switch-root {
    position: relative;
    display: inline-flex;
    align-items: center;
    width: 44px;
    height: 24px;
    cursor: pointer;
  }

  .switch-input {
    position: absolute;
    inset: 0;
    margin: 0;
    opacity: 0;
    cursor: inherit;
  }

  .switch-track {
    position: absolute;
    inset: 0;
    border-radius: 9999px;
    background: color-mix(in srgb, var(--foreground) 4%, transparent);
    border: 1px solid color-mix(in srgb, var(--border) 80%, transparent);
    transition: all 0.2s ease;
  }

  .switch-thumb {
    position: absolute;
    left: 4px;
    top: 50%;
    width: 16px;
    height: 16px;
    border-radius: 9999px;
    background: color-mix(in srgb, var(--foreground) 45%, transparent);
    box-shadow: 0 4px 12px rgba(15, 23, 42, 0.35);
    transform: translate(0, -50%);
    transition: all 0.2s ease;
  }

  .switch-input:checked ~ .switch-track {
    background: color-mix(in srgb, var(--primary) 20%, transparent);
    border-color: color-mix(in srgb, var(--primary) 60%, transparent);
  }

  .switch-input:checked ~ .switch-thumb {
    background: var(--primary);
    transform: translate(18px, -50%);
    box-shadow: 0 6px 18px -8px color-mix(in srgb, var(--primary) 70%, transparent);
  }

  .switch-root:focus-within .switch-track {
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--ring) 35%, transparent);
  }

  .switch-input:disabled ~ .switch-track,
  .switch-input:disabled ~ .switch-thumb {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .auth-surface {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 3rem 1.5rem;
    background:
      radial-gradient(120% 120% at 50% -20%, color-mix(in srgb, var(--primary) 24%, transparent) 0%, transparent 62%),
      linear-gradient(180deg, color-mix(in srgb, var(--background) 96%, transparent) 0%, color-mix(in srgb, var(--background) 72%, transparent) 100%);
  }

  .auth-card {
    width: min(420px, 100%);
    border-radius: 28px;
    border: 1px solid color-mix(in srgb, var(--border) 82%, transparent);
    background: color-mix(in srgb, var(--background) 96%, transparent);
    box-shadow: 0 42px 80px -48px rgba(79, 70, 229, 0.45);
  }
}
