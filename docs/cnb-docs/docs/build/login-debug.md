---
title: 登录调试
permalink: https://docs.cnb.cool/zh/build/login-debug.html
summary: 登录调试适用于本地与CI环境不一致导致的构建问题，可通过日志页面的“登录调试”入口进入流水线的docker容器进行调试，支持在构建过程中和构建结束时的Debug模式下使用，并可选择性执行特定的Pipeline、Stage、Job以复现问题。
---
## 什么情况需要登录调试？

用户自定义脚本在 `docker` 容器内执行，由于本地和 CI 环境不一致，可能会遇到本地没问题，CI 构建有问题的情况，
此时可通过日志页面 `登录调试` 入口，登录到流水线 `docker` 容器里进行调试。

## 如何使用？

每个流水线执行前，会先启动一个流水线 `docker` 容器来执行用户脚本，构建结束默认情况下会销毁 `docker` 容器。
因此，在流水线构建环境存在的时候，可登录 `docker` 容器调试问题。

以下两种情况，登录调试可用：

1. 构建过程中，可登录调试。
2. 构建结束时 Debug 模式。

   在日志页面先勾选 `Rebuild` 按钮旁的 `Debug` 选项，然后点击 `Rebuild` 按钮，新触发的构建，在构建结束时，
如果未登录调试，构建环境会先保留 5 分钟，此时可登录调试。之后会定时检测是否有用户登录 `docker` 调试，
没有就自动销毁，有则继续保留环境。构建环境最长保留1个小时。

## 调试技巧

点击 `Rebuild` 时，可选择需要执行的`Pipeline`、`Stage`、`Job`，方便帮助开发者复现问题环境。
