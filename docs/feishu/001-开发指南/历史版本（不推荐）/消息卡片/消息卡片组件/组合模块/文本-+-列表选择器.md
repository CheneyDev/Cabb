---
title: "文本 + 列表选择器"
source_url: https://open.feishu.cn/document/deprecated-guide/message-card/component-list/combinations/text-option-picker
last_remote_update: 2023-12-15
last_remote_update_timestamp: 1702626975000
---
最后更新于 2023-12-15

# 文本 + 列表选择器

消息卡片搭建工具针对常用的消息推送场景提供了组合模块，便于你在工具内快速构建卡片内容。本文将介绍其中的文本 + 列表选择器组合。

## 模块组件

在消息卡片搭建工具中，文本 + 列表选择器组合模块如下图所示。该组合模块中可用于配置包含文字说明的交互列表内容块，列表选择器仅支持配置回传交互。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/75107dd068e60ac15f058eaead0d140c_CTF9zG4l2v.png?height=1422&lazyload=true&maxWidth=600&width=2882)

## 编辑组件

文本 + 列表选择器组合模块本质是一个内容模块（div），在内容模块中通过 `text` 参数设置文本组件、`extra` 参数设置列表选择器组件。关于内容模块的详细配置说明，可参见[内容模块](https://open.feishu.cn/document/ukTMukTMukTM/uYzM3QjL2MzN04iNzcDN/component-list/common-components-and-elements#6bdb3f37)。

JSON 示例配置如下：

```json
// 如需使用该 JSON 示例，则注意需要手动清除 // 开头的注释
{
  "elements": [
    {
      "tag": "div", // 内容模块
      "text": { // 文本组件
        "tag": "lark_md",
        "content": "在移动端同样进行便捷的沟通、互动与协作，手机电脑随时随地保持同步。"
      },
      "extra": {
        "tag": "select_static", // 列表选择器
        "placeholder": {
          "tag": "plain_text",
          "content": "默认提示文本"
        },
        "value": {
          "key": "value"
        },
        "options": [ // 选项配置
          {
            "text": {
              "tag": "plain_text",
              "content": "选项1"
            },
            "value": "1"
          },
          {
            "text": {
              "tag": "plain_text",
              "content": "选项2"
            },
            "value": "2"
          },
          {
            "text": {
              "tag": "plain_text",
              "content": "选项3"
            },
            "value": "3"
          },
          {
            "text": {
              "tag": "plain_text",
              "content": "选项4"
            },
            "value": "4"
          }
        ]
      }
    }
  ]
}
```

### 文本组件

在搭建工具内选中组合模块的文本组件，在 **编辑卡片** 区域设置文本格式与内容。
支持在 JSON 配置中调整内容模块中包含的文本组件参数。关于文本组件的参数说明，可参见[文本组件](https://open.feishu.cn/document/ukTMukTMukTM/uUzNwUjL1cDM14SN3ATN)。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/39f15482926cbb56ef5deae60b15acd4_X2eVAgXwl9.png?height=1046&lazyload=true&maxWidth=600&width=1676)

### 列表选择器组件

在搭建工具内选中组合模块的列表选择器组件，在 **编辑卡片** 区域设置列表选择器的配置项。
支持在 JSON 配置中调整内容模块所附加的列表选择器组件参数，此外列表选择器为交互组件，支持配置回传交互，详细说明可参见[列表选择器（selectMenu）](https://open.feishu.cn/document/ukTMukTMukTM/uIzNwUjLycDM14iM3ATN)。

在选择器模式中可选 **自定义选项选择器** 或 **人员选择器** 模式。

选择器模式 | 配置项说明
--- | ---
自定义选项选择器 | - **默认提示文本**：默认展示在选择器输入框内的文本信息。  
- **选项配置模式**：支持 **固定选项模式** 或 **绑定选项组变量**。  
    - **固定选项模式** 需要设置一个或多个选项的文本内容与回传参数值。后续当用户选中选项时，应用会向指定的消息卡片请求地址发送 HTTP POST 请求，请求中会包含选项的回传参数值。  
    - **绑定选项组变量** 需要绑定选项组变量。关于卡片变量的使用说明，参见[配置卡片变量](https://open.feishu.cn/document/ukTMukTMukTM/ucTNwUjL3UDM14yN1ATN/configure-card-variables)。  
- **配置回传交互**：配置回传参数的名称与值，后续当用户操作选择器后，应用会向指定的消息卡片请求地址发送 HTTP POST 请求，请求中会包含已配置的回传参数数据。关于回传交互的详细配置说明，可参见[配置卡片交互](https://open.feishu.cn/document/ukTMukTMukTM/uYjNwUjL2YDM14iN2ATN)。  
- **二次确认弹窗**：开启后需要配置弹窗的标题与提示信息，当用户选中选项后需要在弹窗内二次确认。
人员选择器 | - **默认提示文本**：默认展示在选择器输入框内的文本信息。  
- **选项配置模式**：支持 **配置固定人员列表**、**绑定人员选项组变量** 或 **所在会话人员列表**。  
    - **配置固定人员列表** 需要设置一个或多个人员选项，选项的 value 是人员的 [open_id](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-obtain-openid)。  
    - **绑定人员选项组变量** 需要绑定一个人员选项组变量。关于卡片变量的使用说明，参见[配置卡片变量](https://open.feishu.cn/document/ukTMukTMukTM/ucTNwUjL3UDM14yN1ATN/configure-card-variables)。  
    - **所在会话人员列表**：根据发送消息卡片的目标会话，获取会话内的人员并生成列表。  
- **配置回传交互**：配置回传参数的名称与值，后续当用户操作选择器后，应用会向指定的消息卡片请求地址发送 HTTP POST 请求，请求中会包含已配置的回传参数数据。关于回传交互的详细配置说明，可参见[配置卡片交互](https://open.feishu.cn/document/ukTMukTMukTM/uYjNwUjL2YDM14iN2ATN)。  
- **二次确认弹窗**：开启后需要配置弹窗的标题与提示信息，当用户选中选项后需要在弹窗内二次确认。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/bf9752710fe7dfb71b9cd68d40aff1fb_WI3vPkq138.png?height=1306&lazyload=true&maxWidth=600&width=1642)

## 卡片示例

例如，在监控告警的消息卡片中，通过文本 + 列表选择器提供屏蔽报警的选项。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/928001e355717ae6daafa729e2c8f788_0bh0z8A5dy.png?height=1208&lazyload=true&maxWidth=400&width=772)

卡片的 JSON 配置如下：

```json
// 如需使用该 JSON 示例，则注意需要手动清除 // 开头的注释
{
  "elements": [
    {
      "tag": "column_set",
      "flex_mode": "none",
      "background_style": "default",
      "columns": [
        {
          "tag": "column",
          "width": "weighted",
          "weight": 1,
          "vertical_align": "top",
          "elements": [
            {
              "tag": "div",
              "text": {
                "content": "**🔴 报警服务：**\nQA 7",
                "tag": "lark_md"
              }
            }
          ]
        },
        {
          "tag": "column",
          "width": "weighted",
          "weight": 1,
          "vertical_align": "top",
          "elements": [
            {
              "tag": "div",
              "text": {
                "content": "**🕐 时间：**\n2023-02-23 20:17:51",
                "tag": "lark_md"
              }
            }
          ]
        }
      ]
    },
    {
      "tag": "column_set",
      "flex_mode": "none",
      "background_style": "default",
      "columns": [
        {
          "tag": "column",
          "width": "weighted",
          "weight": 1,
          "vertical_align": "top",
          "elements": [
            {
              "tag": "div",
              "text": {
                "content": "**👤 一级值班：**\n[@王冰](https://open.feishu.cn)",
                "tag": "lark_md"
              }
            }
          ]
        },
        {
          "tag": "column",
          "width": "weighted",
          "weight": 1,
          "vertical_align": "top",
          "elements": [
            {
              "tag": "markdown",
              "content": "**👤 二级值班：**\n[@李天天](https://open.feishu.cn)"
            }
          ]
        }
      ]
    },
    {
      "tag": "div",
      "text": {
        "content": "支付方式 支付成功率低于50%",
        "tag": "plain_text"
      }
    },
    {
      "alt": {
        "content": "",
        "tag": "plain_text"
      },
      "img_key": "img_v2_8b2ebeaf-c97c-411d-a4dc-4323e8cba10g",
      "tag": "img"
    },
    {
      "elements": [
        {
          "content": "🔴 支付失败数  🔵 支付成功数",
          "tag": "plain_text"
        }
      ],
      "tag": "note"
    },
    {
      "actions": [
        {
          "tag": "button",
          "text": {
            "content": "跟进处理",
            "tag": "plain_text"
          },
          "type": "primary",
          "value": {
            "key1": "value1"
          }
        }
      ],
      "tag": "action"
    },
    { // 文本 + 列表选择器
      "tag": "div",
      "text": {
        "tag": "lark_md",
        "content": "支持暂时屏蔽该报警，从右侧列表中选择屏蔽时长。"
      },
      "extra": {
        "tag": "select_static",
        "placeholder": {
          "tag": "plain_text",
          "content": "暂时屏蔽报警"
        },
        "value": {
          "key": "value"
        },
        "options": [
          {
            "text": {
              "tag": "plain_text",
              "content": "屏蔽10分钟"
            },
            "value": "1"
          },
          {
            "text": {
              "tag": "plain_text",
              "content": "屏蔽30分钟"
            },
            "value": "2"
          },
          {
            "text": {
              "tag": "plain_text",
              "content": "屏蔽1小时"
            },
            "value": "3"
          },
          {
            "text": {
              "tag": "plain_text",
              "content": "屏蔽2小时"
            },
            "value": "4"
          }
        ]
      }
    },
    {
      "tag": "hr"
    },
    {
      "tag": "div",
      "text": {
        "content": "🙋🏼 [我要反馈误报](https://open.feishu.cn) | 📝 [录入报警处理过程](https://open.feishu.cn)",
        "tag": "lark_md"
      }
    }
  ],
  "header": {
    "template": "red",
    "title": {
      "content": "1 级报警 - 数据平台",
      "tag": "plain_text"
    }
  }
}
```
