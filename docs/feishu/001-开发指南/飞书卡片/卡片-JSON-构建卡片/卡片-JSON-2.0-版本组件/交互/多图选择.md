---
title: "多图选择"
source_url: https://open.feishu.cn/document/feishu-cards/card-json-v2-components/interactive-components/image-picker
last_remote_update: 2025-06-10
last_remote_update_timestamp: 1749546724000
---
最后更新于 2025-06-10

# 多图选择组件

多图选择组件是用于提供图片选项的交互组件，支持单选、多选图片。多图选择组件适用于以图片为主要选项的场景，如在卡片中展示商品图、模板图、AI生成的图片等供用户选择。
**注意事项**：本文档介绍多图选择组件的 JSON 2.0 结构，要查看历史 JSON 1.0 结构，参考[多图选择](https://open.feishu.cn/document/uAjLw4CM/ukzMukzMukzM/feishu-cards/card-components/interactive-components/image-picker)。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/3c0451b4d0aadd628e926864bf1857a0_J7nYYdj6jJ.png?height=925&lazyload=true&maxWidth=400&width=1118)

## 注意事项

多图选择组件仅支持通过撰写卡片 JSON 代码的方式使用，暂不支持在卡片搭建工具上构建使用。

## 嵌套规则

多图选择组件可嵌套在卡片的根节点、分栏、表单容器、交互容器（搭建工具暂不支持）中。在不同的嵌套关系中，多图选择组件支持的交互形态不同：
- 当多图选择组件不内嵌在表单容器中时，多图选择组件仅支持单选图片，且终端用户点击图片选项后立即提交，触发回传交互，不支持多选和异步提交。
- 当多图选择组件内嵌在表单容器中时，多图选择组件支持单选、多选交互并支持异步提交，即终端用户需选择图片后，点击表单容器的提交按钮，将本地缓存的表单内容一次回调至开发者服务端，实现异步提交。

## 组件属性

### JSON 结构

多图选择组件的完整 JSON 2.0 结构如下所示：
```json
{
  "schema": "2.0",
  "body": {
    "elements": [
      {
        "tag": "select_img", // 组件标签。
        "element_id": "custom_id", // 操作组件的唯一标识。用于在调用组件相关接口中指定组件。需开发者自定义。
        "margin": "0px 0px 0px 0px", // 组件的外边距，默认值 "0"，支持范围 [-99,99]px。
        "multi_select": false, // 是否多选。
        "layout": "bisect", // 选项的布局模式。
        "name": "choice_123", // 自定义多图选择组件的名称作为唯一标识。当组件内嵌在表单容器中时，该字段生效且必填，用于识别用户提交的数据属于哪个组件。
        "required": false, // 多图选择的选项是否必选。当组件内嵌在表单容器中时，该属性可用。其它情况将报错或不生效。
        "can_preview": false, // 点击图片选项后是否弹窗放大图片。当多图选择组件嵌套在表单容器中时，该属性生效。
        "aspect_ratio": "16:9", // 选项中图片的宽高比。
        "disabled": false, // 是否禁用整个选择组件。
        "disabled_tips": { // 指禁用组件后，用户将光标悬浮在整个组件上时展示的禁用提示文案。
          "tag": "plain_text",
          "content": "用户禁用提示文案"
        },
        "value": { // 自定义回传参数，支持回传字符串，或 "key":"value" 构成的对象结构体。
          "key": "value"
        },
        // 选项数组。在此配置多图选择组件中每个图片选项的属性。
        "options": [
          {
            "img_key": "xxxxxxxxxxxxxx", // 图片资源的 Key。
            "value": "picture1", // 自定义每个图片选项的回传参数。
            "disabled": false, // 是否禁用当前图片选项。
            "disabled_tips": { // 禁用当前选项后，用户将光标悬浮在选项上或点击选项时展示的禁用提示文案。
              "tag": "plain_text",
              "content": "用户禁用提示文案"
            },
            "hover_tips": { // 用户在 PC 端将光标悬浮在选项上方时的文案提醒。
              "tag": "plain_text",
              "content": "第一张图"
            }
          }
        ],
        "behaviors": [
          { // 为组件配置回传交互。
            "type": "callback",
            "value": {
              // 回传交互数据。支持 object 数据类型。开放平台 SDK 仅支持 object 类型的回传交互数据。
              "key_1": "value_1"
            }
          }
        ],
        "confirm": {
          // 二次确认弹窗配置
          "title": {
            "tag": "plain_text",
            "content": "title"
          },
          "text": {
            "tag": "plain_text",
            "content": "content"
          }
        }
      }
    ]
  }
}
```

### 字段说明

多图选择组件各属性说明如下表所示。

名称 | 必填 | 类型 | 默认值 | 描述
--- | --- | --- | --- | ---
tag | 是 | String | / | 组件的标签。多图选择的固定取值为 `select_img`。
element_id | 否 | String | 空 | 操作组件的唯一标识。JSON 2.0 新增属性。用于在调用[组件相关接口](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/cardkit-v1/card-element/create)中指定组件。在同一张卡片内，该字段的值全局唯一。仅允许使用字母、数字和下划线，必须以字母开头，不得超过 20 字符。
margin | 否 | String | 0 | 组件的外边距。JSON 2.0 新增属性。值的取值范围为 [-99,99]px。可选值：  
- 单值，如 "10px"，表示组件的四个外边距都为 10 px。  
- 双值，如 "4px 0"，表示组件的上下外边距为 4 px，左右外边距为 0 px。使用空格间隔（边距为 0 时可不加单位）。  
- 多值，如 "4px 0 4px 0"，表示组件的上、右、下、左的外边距分别为 4px，12px，4px，12px。使用空格间隔。
multi_select | 否 | Boolean | false | 图片是否多选。可选值：  
- true：多选，仅支持异步提交。多图选择组件需内嵌在表单容器中，否则卡片 JSON 报错。  
- false：单选。  
  - 组件在表单容器内时，图片选项展示为带单选按钮（radio button）的异步提交样式。  
  - 组件不在表单容器内时，图片选项展示为不带单选按钮（radio button）的同步提交样式。
layout | 否 | String | bisect | 图片选项的布局方式。可选值：  
- stretch：每个选项的图片宽度撑满父容器宽度，高度按图片大小等比例缩放。  
- bisect：二等分排布，每个选项图片宽度占父容器的 1/2，高度按图片大小等比例缩放。  
- trisect：三等分排布，每个选项图片宽度占父容器的 1/3，高度按图片大小等比例缩放。
name | 否 | String | 空 | 自定义多图选择组件的名称作为唯一标识。用于识别用户提交的数据属于哪个组件。  
  **注意**：当多图选择组件嵌套在表单容器中时，该字段生效、必填，且需在卡片全局内唯一。
required | 否 | Boolean | false | 多图选择的选项是否必选。当组件内嵌在表单容器中时，该属性可用。其它情况将报错或不生效。可取值：  
- true：选项必填。当用户点击表单容器的“提交”时，未选择选项，则前端提示“有必填项未填写”，不会向开发者的服务端发起回传请求。  
- false：选项选填。当用户点击表单容器的“提交”时，未选择选项，仍提交表单容器中的数据。
can_preview | 否 | Boolean | true | 点击图片选项后是否弹窗放大图片。当多图选择组件嵌套在表单容器中时，该属性生效。  
- true：点击图片后，弹出图片查看器放大查看当前点击的图片。  
- false：点击图片后，响应卡片本身的交互事件，不弹出图片查看器。
aspect_ratio | 否 | String | 16:9 | 选项中图片的宽高比。图片按最短边撑满图片渲染容器，按照居中裁剪的方式自适应裁剪。可取值：  
- 1:1  
- 16:9  
- 4:3
disabled | 否 | Boolean | false | 是否禁用整个选择组件。可选值：  
- true：禁用整个选择组件  
- false：选择组件保持可用状态  
</ul>
disabled_tips | 否 | Object | 空 | 禁用整个组件后，用户将光标悬浮在整个组件上时展示的禁用提示文案。
└ tag | 否 | String | plain_text | 禁用提示文本的标签。固定值为 `plain_text`。
└ content | 否 | String | 空 | 禁用提示文本的内容。
value | 否 | String 或 Object | 空 | 你可在交互事件中自定义回传参数，支持回传字符串，或 `"key":"value"` 构成的对象结构体。
options | 是 | Option object | / | 选项数组，用于配置多图选择组件中每个图片选项的属性。
L img_key | 是 | String | / | 图片资源的 Key。你可以调用[上传图片](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/im-v1/image/create)接口或在搭建工具中上传图片，获取图片的 key。
L value | 否 | String | 空 | 自定义每个图片选项的回传参数。在回传交互中指定的回传参数将透传至开发者的服务端。
L disabled | 否 | Boolean | false | 是否禁用某个图片选项。可选值：  
- true：禁用该选项  
- false：选项保持可用状态
L disabled_tips | 否 | Object | 空 | 禁用某个图片选项后，用户将光标悬浮在选项上或点击选项时展示的禁用提示文案。
LL tag | 否 | String | plain_text | 禁用提示文本的标签。固定值为 `plain_text`。
LL  content | 否 | String | 空 | 禁用提示文本的内容。
L hover_tips | 否 | Object | 空 | 用户在 PC 端将光标悬浮在多图选择上方时的文案提醒。默认为空。
LL tag | 否 | String | plain_text | 悬浮提示文本的标签。固定值为 `plain_text`。
LL content | 否 | String | 空 | 悬浮提示文本的内容。
behaviors | 是 | Struct | / | 配置交互类型和具体交互行为。详情参考[配置卡片交互](https://open.feishu.cn/document/uAjLw4CM/ukzMukzMukzM/feishu-cards/configuring-card-interactions)中 behaviors 的字段说明。

## 回调示例

多图选择组件默认拥有交互能力。用户基于多图选择组件进行交互时，你在开发者后台配置的请求地址将会收到回调数据。

- 如果你添加的是新版卡片回传交互回调(`card.action.trigger`)，卡片将默认将回传如下所示的交互事件。详情参考[卡片回传交互回调](https://open.feishu.cn/document/uAjLw4CM/ukzMukzMukzM/feishu-cards/card-callback-communication)。

- 如果你添加的是旧版卡片回传交互回调(`card.action.trigger_v1`)，可参考[消息卡片回传交互（旧）](https://open.feishu.cn/document/ukTMukTMukTM/uYzM3QjL2MzN04iNzcDN/configuring-card-callbacks/card-callback-structure)了解回调结构。

新版卡片回传交互(`card.action.trigger`)多图选择组件回调示例（单选后立即提交选项内容）如下所示：

```json
{
    "schema": "2.0", // 回调的版本
    "header": { // 回调基本信息
        "event_id": "f7984f25108f8137722bb63c*****", // 回调的唯一标识
        "token": "066zT6pS4QCbgj5Do145GfDbbag*****", // 应用的 Verification Token
        "create_time": "1603977298000000", // 	回调发送的时间，接近回调发生的时间
        "event_type": "card.action.trigger", // 回调类型卡片交互场景中，固定为 "card.action.trigger"
        "tenant_key": "2df73991750*****", // 应用归属的 tenant key，即租户唯一标识
        "app_id": "cli_a5fb0ae6a4******" // 应用的 App ID
    },
    "event": { // 回调的详细信息
        "operator": { // 回调触发者信息
            "tenant_key": "2df73991750*****", // 回调触发者的 tenant key，即租户唯一标识
            "user_id": "867*****", // 回调触发者的 user ID。当应用开启“获取用户 user ID”权限后，该参数返回
            "open_id": "ou_3c14f3a59eaf2825dbe25359f15*****", // 	回调触发者的 Open ID
            "union_id": "on_cad4860e7af114fb4ff6c5d496d*****" // 回调触发者的 Union ID
        },
        "token": "c-295ee57216a5dc9de90fefd0aadb4b1d7d******", // 更新卡片用的凭证，有效期为 30 分钟，最多可更新 2 次
        "action": { // 用户选择图片后回传的数据
            "tag": "select_img", // 多图选择组件的标签
            "options": "picture1" // 用户选择的图片的回传参数
        }
    },
    "host": "im_message", // 卡片展示场景
    "context": { //  卡片展示场景相关信息
        "open_message_id": "om_574d639e4a44e4dd646eaf628e2*****", // 卡片所在的消息 ID
        "open_chat_id": "oc_e4d2605ca917e695f54f11aaf56*****" // 卡片所在的会话 ID
    }
}
```

## 示例代码

### 单选后立即提交选项内容

以下JSON 2.0 结构的示例代码中，多图选择组件不内嵌在表单容器中，仅支持单选图片。终端用户点击图片选项后，数据将立即提交，触发回传交互。你可将示例代码中的 `img_key` 替换为实际的图片 Key，实现如下图示例的卡片效果：

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/3d96fd3eb0f3390e56dc283b9db5d58e_YjtwDw58SW.gif?height=980&lazyload=true&maxWidth=400&width=1144)

```json
{
    "schema": "2.0",
    "body": {
        "elements": [
            {
                "tag": "select_img",
                "name": "select_img-1",
                "layout": "bisect",
                "aspect_ratio": "16:9",
                "disabled": false,
                "disabled_tips": {
                    "tag": "plain_text",
                    "content": "用户禁用提示文案"
                },
                "options": [
                    {
                        "img_key": "img_v2_9dd98485-2900-4d65-ada9-e31d1408dcfg",
                        "value": "picture1",
                        "disabled": false,
                        "disabled_tips": {
                            "tag": "plain_text",
                            "content": "用户禁用提示文案1"
                        },
                        "hover_tips": {
                            "tag": "plain_text",
                            "content": "第一张图"
                        }
                    },
                    {
                        "img_key": "img_v2_9dd98485-2900-4d65-ada9-e31d1408dcfg",
                        "value": "picture2",
                        "disabled": false,
                        "disabled_tips": {
                            "tag": "plain_text",
                            "content": "用户禁用提示文案2"
                        },
                        "hover_tips": {
                            "tag": "plain_text",
                            "content": "第二张图"
                        }
                    },
                    {
                        "img_key": "img_v2_9dd98485-2900-4d65-ada9-e31d1408dcfg",
                        "value": "picture3",
                        "disabled": false,
                        "disabled_tips": {
                            "tag": "plain_text",
                            "content": "用户禁用提示文案3"
                        },
                        "hover_tips": {
                            "tag": "plain_text",
                            "content": "第三张图"
                        }
                    },
                    {
                        "img_key": "img_v2_9dd98485-2900-4d65-ada9-e31d1408dcfg",
                        "value": "picture4",
                        "disabled": false,
                        "disabled_tips": {
                            "tag": "plain_text",
                            "content": "用户禁用提示文案4"
                        },
                        "hover_tips": {
                            "tag": "plain_text",
                            "content": "第四张图"
                        }
                    },
                    {
                        "img_key": "img_v2_9dd98485-2900-4d65-ada9-e31d1408dcfg",
                        "value": "picture5",
                        "disabled": false,
                        "disabled_tips": {
                            "tag": "plain_text",
                            "content": "用户禁用提示文案5"
                        },
                        "hover_tips": {
                            "tag": "plain_text",
                            "content": "第五张图"
                        }
                    },
                    {
                        "img_key": "img_v2_9dd98485-2900-4d65-ada9-e31d1408dcfg",
                        "value": "picture6",
                        "disabled": false,
                        "disabled_tips": {
                            "tag": "plain_text",
                            "content": "用户禁用提示文案6"
                        },
                        "hover_tips": {
                            "tag": "plain_text",
                            "content": "第六张图"
                        }
                    }
                ]
            }
        ]
    }
}
```

### 在表单容器中异步提交多选的选项内容

以下JSON 2.0 结构的示例代码中，多图选择组件内嵌在表单容器中，且为单选交互的异步提交方式。在终端用户选择图片后，数据将缓存至本地；当用户点击表单容器的提交按钮后，本地缓存的所有表单内容将一次回调至开发者服务端，实现异步提交。你可将示例代码中的 `img_key` 替换为实际的图片 Key，实现如下图示例的卡片效果：

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/52bf9baf0da30ae73c61479f7bcef232_Td0XUptnVd.gif?height=1140&lazyload=true&maxWidth=400&width=1116)

```json
{
    "schema": "2.0",
    "body": {
        "elements": [
            {
                "tag": "form",
                "name": "form1",
                "elements": [
                    {
                        "tag": "select_img",
                        "multi_select": false,
                        "name": "select_img-1",
                        "layout": "bisect",
                        "can_preview": false,
                        "aspect_ratio": "16:9",
                        "disabled": false,
                        "disabled_tips": {
                            "tag": "plain_text",
                            "content": "用户禁用提示文案"
                        },
                        "options": [
                            {
                                "img_key": "img_v2_9dd98485-2900-4d65-ada9-e31d1408dcfg",
                                "value": "picture1",
                                "disabled": false,
                                "disabled_tips": {
                                    "tag": "plain_text",
                                    "content": "用户禁用提示文案1"
                                },
                                "hover_tips": {
                                    "tag": "plain_text",
                                    "content": "第一张图"
                                }
                            },
                            {
                                "img_key": "img_v2_9dd98485-2900-4d65-ada9-e31d1408dcfg",
                                "value": "picture2",
                                "disabled": false,
                                "disabled_tips": {
                                    "tag": "plain_text",
                                    "content": "用户禁用提示文案2"
                                },
                                "hover_tips": {
                                    "tag": "plain_text",
                                    "content": "第二张图"
                                }
                            },
                            {
                                "img_key": "img_v2_9dd98485-2900-4d65-ada9-e31d1408dcfg",
                                "value": "picture3",
                                "disabled": false,
                                "disabled_tips": {
                                    "tag": "plain_text",
                                    "content": "用户禁用提示文案3"
                                },
                                "hover_tips": {
                                    "tag": "plain_text",
                                    "content": "第三张图"
                                }
                            },
                            {
                                "img_key": "img_v2_9dd98485-2900-4d65-ada9-e31d1408dcfg",
                                "value": "picture4",
                                "disabled": false,
                                "disabled_tips": {
                                    "tag": "plain_text",
                                    "content": "用户禁用提示文案4"
                                },
                                "hover_tips": {
                                    "tag": "plain_text",
                                    "content": "第四张图"
                                }
                            },
                            {
                                "img_key": "img_v2_9dd98485-2900-4d65-ada9-e31d1408dcfg",
                                "value": "picture5",
                                "disabled": false,
                                "disabled_tips": {
                                    "tag": "plain_text",
                                    "content": "用户禁用提示文案5"
                                },
                                "hover_tips": {
                                    "tag": "plain_text",
                                    "content": "第五张图"
                                }
                            },
                            {
                                "img_key": "img_v2_9dd98485-2900-4d65-ada9-e31d1408dcfg",
                                "value": "picture6",
                                "disabled": false,
                                "disabled_tips": {
                                    "tag": "plain_text",
                                    "content": "用户禁用提示文案6"
                                },
                                "hover_tips": {
                                    "tag": "plain_text",
                                    "content": "第六张图"
                                }
                            }
                        ]
                    },
                    {
                        "tag": "button",
                        "text": {
                            "tag": "plain_text",
                            "content": "提交"
                        },
                        "type": "primary",
                        "name": "button-submit",
                        "form_action_type": "submit",
                        "behaviors": [
                            {
                                "type": "callback",
                                "value": "form_callback"
                            }
                        ]
                    },
                    {
                        "tag": "button",
                        "text": {
                            "tag": "plain_text",
                            "content": "取消"
                        },
                        "name": "button-cancel",
                        "form_action_type": "reset"
                    }
                ]
            }
        ]
    }
}
```
