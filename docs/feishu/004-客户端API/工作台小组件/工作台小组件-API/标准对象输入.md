---
title: "标准对象输入"
source_url: https://open.feishu.cn/document/client-docs/block/api/standard-object-input
last_remote_update: 2022-07-15
last_remote_update_timestamp: 1657872014000
---
最后更新于 2022-07-15

# 标准对象输入

## 目标

旨在定义 API 的标准对象输入。当一个 API 执行成功或者失败后会触发对应注册的回调函数。

继承了此标准对象输入的 API 可能会存在扩展各属性的行为。

## 参数说明

| **名称**      | **数据类型**   | **是否必填** | **描述**                   | 
| ----------- | -------- | ------ | ------------------------ | 
| param       | object   | 是      |         --                 |  
|  ∟ success  | function | 否      | 接口调用成功的回调函数              |   
|  ∟ fail     | function | 否      | 接口调用失败的回调函数              |      
|  ∟ complete | function | 否      | 接口调用结束的回调函数（调用成功、失败都会执行） |     

### function success(Object param)

| **名称**    | **数据类型** | **描述**                     | 
| --------- | ------ | -------------------------- | 
| param     | object | 当 API 成功执行后调用              |     
|  ∟ errMsg | string | 预定义返回消息格式为 `${API_NAME}:ok` |       

### function fail(Object param)

| **名称**    | **数据类型** | **描述**                       | 
| --------- | ------ | ---------------------------- | 
| param     | object | 当 API 失败执行后调用                |     
|  ∟ errMsg | string | 预定义返回消息格式为 `${API_NAME}:fail ${errorInfo}` |     

### function complete(Object param)

| **名称**    | **数据类型** | **描述**                                         | 
| --------- | ------ | ---------------------------------------------- | 
| param     | object | 当 API 执行完成后调用（无论成功或失败）                         |          |
|  ∟ errMsg | string | 成功执行时返回 `${API_NAME}:ok` 失败时返回 `${API_NAME}:fail ${errorInfo}` |          |

complete 回调函数的执行会在 success 和 fail 函数执行之后

## 举例

为了帮助您更好的阅读接下来的文档，我们以「[login](https://open.feishu.cn/document/uAjLw4CM/uYjL24iN/block/api/user/login)」这个 API 为例子来说明。

文档中说明了「输入参数无扩展属性」，「success 函数返回对象参数扩展一个 code 属性」，因此最终的参数为：

| **名称**      | **数据类型**   | **是否必填** | **描述**                   | 
| ----------- | -------- | ------ | ------------------------ | 
| param       | object   | 是      |                          |          |
|  ∟ success  | function | 否      | 接口调用成功的回调函数              |          |
|  ∟ fail     | function | 否      | 接口调用失败的回调函数              |          |
|  ∟ complete | function | 否      | 接口调用结束的回调函数（调用成功、失败都会执行） |          |

**function success(Object param)**

| **名称**    | **数据类型** | **描述**                      | 
| --------- | ------ | --------------------------- | 
| param     | object | 当 API 成功执行后调用               |          |
|  ∟ errMsg | string | 预定义返回消息格式为 `${API_NAME}:ok` |          |
| ∟ code    | string | 临时登录凭证，有效期 3 分钟，只能使用一次      |          |

**function fail(Object param)**

| **名称**    | **数据类型** | **描述**                                     | 
| --------- | ------ | ------------------------------------------ | 
| param     | object | 当 API 失败执行后调用                              |          |
|  ∟ errMsg | string | 预定义返回消息格式为 `${API_NAME}:fail ${errorInfo}` |          |

**function complete(Object param)**

| **名称**    | **数据类型** | **描述**                                                        | 
| --------- | ------ | ----------------------------------------- | 
| param     | object | 当 API 执行完成后调用（无论成功或失败）                                        |          |
|  ∟ errMsg | string | 成功执行时返回 `${API_NAME}:ok`失败时返回 `${API_NAME}:fail ${errorInfo}`
