---
title: "更新工单详情"
source_url: https://open.feishu.cn/document/server-docs/helpdesk-v1/ticket-management/ticket/update
last_remote_update: 2024-03-06
last_remote_update_timestamp: 1709724839000
---
最后更新于 2024-03-06

# 更新工单详情

该接口用于更新服务台工单详情。只会更新数据，不会触发相关操作。如修改工单状态到关单，不会关闭聊天页面。仅支持自建应用。要更新的工单字段必须至少输入一项。

**注意事项**：注意事项：
	user_access_token 访问，需要操作者有当前工单的权限，属于服务台的客服（并且具有该工单的权限）、管理员或所有者

## 请求
名称 | 值
---|---
HTTP URL | https://open.feishu.cn/open-apis/helpdesk/v1/tickets/:ticket_id
HTTP Method | PUT
接口频率限制 | [特殊频控](https://open.feishu.cn/document/ukTMukTMukTM/uUzN04SN3QjL1cDN)
支持的应用类型 | 自建应用
权限要求  
            **调用该 API 所需的权限。开启其中任意一项权限即可调用** | 更新服务台资源详情(helpdesk:all)

### 请求头

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
Authorization | string | 是 | `user_access_token`  
**值格式**："Bearer `access_token`"  
**示例值**："Bearer u-7f1bcd13fc57d46bac21793a18e560"  
[了解更多：如何选择与获取 access token](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-choose-which-type-of-token-to-use)
Content-Type | string | 是 | **固定值**："application/json; charset=utf-8"

**注意事项**：服务台请求Header中还需添加“服务台token”参数：

Key: X-Lark-Helpdesk-Authorization

Value: base64(helpdesk_id:helpdesk_token)，通过base64加密将helpdesk_id和helpdesk_token用':'连接而成的字符串。

[了解更多：获取与使用服务台token](https://open.feishu.cn/document/ukTMukTMukTM/ugDOyYjL4gjM24CO4IjN)

### 路径参数

名称 | 类型 | 描述
--- | --- | ---
ticket_id | string | 工单ID  
**示例值**："6945345902185807891"

### 请求体

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
status | int | 否 | 工单新status，status对应具体的含义如下：1: 待响应, 2: 处理中, 3: 排队中, 4: 待定, 5: 待用户响应, 50: 机器人关闭工单, 51: 人工关闭工单  
**示例值**：1
tag_names | string\[\] | 否 | 新标签名  
**示例值**：["abc"]
comment | string | 否 | 新评论  
**示例值**："good"
customized_fields | customized_field_display_item\[\] | 否 | 自定义字段
id | string | 否 | 自定义字段ID  
**示例值**："123"
value | string | 否 | 自定义字段值  
**示例值**："value"
key_name | string | 否 | 键名  
**示例值**："key"
ticket_type | int | 否 | ticket stage  
**示例值**：1
solved | int | 否 | 工单是否解决，1: 未解决, 2: 已解决  
**示例值**：1
channel | int | 否 | 工单来源渠道ID  
**示例值**：1

### 请求体示例
```json
{
    "status": 1,
    "tag_names": [
        "abc"
    ],
    "comment": "good",
    "customized_fields": [
        {
            "id": "123",
            "value": "value",
            "key_name": "key"
        }
    ],
    "ticket_type": 1,
    "solved": 1,
    "channel": 1
}
```

## 响应

### 响应体

名称 | 类型 | 描述
--- | --- | ---
code | int | 错误码，非 0 表示失败
msg | string | 错误描述
data | \- | \-

### 响应体示例
```json
{
    "code": 0,
    "msg": "success",
    "data": {}
}
```

### 错误码

HTTP状态码 | 错误码 | 描述 | 排查建议
--- | --- | --- | ---
400 | 154000 | Bad request, please check your request body | 请求不合法，请检查参数
403 | 154003 | Please check you have the correct access | 检查是否申请正确权限
404 | 154004 | Resource not found | 资源不存在，请检查ID值
500 | 155000 | Internal error | 内部错误，请联系我们
