---
title: "更新序列"
source_url: https://open.feishu.cn/document/server-docs/contact-v3/job_family/update
last_remote_update: 2024-07-05
last_remote_update_timestamp: 1720167724000
---
最后更新于 2024-07-05

# 更新序列

调用该接口更新指定序列的信息。

## 请求
名称 | 值
---|---
HTTP URL | https://open.feishu.cn/open-apis/contact/v3/job_families/:job_family_id
HTTP Method | PUT
接口频率限制 | [10 次/秒](https://open.feishu.cn/document/ukTMukTMukTM/uUzN04SN3QjL1cDN)
支持的应用类型 | 自建应用
权限要求  
            **调用该 API 所需的权限。开启其中任意一项权限即可调用**  
            开启任一权限即可 | 更新通讯录(contact:contact)  
            创建、删除、更新租户的工作序列(contact:job_family)

### 请求头

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
Authorization | string | 是 | `tenant_access_token`  
**值格式**："Bearer `access_token`"  
**示例值**："Bearer t-7f1bcd13fc57d46bac21793a18e560"  
[了解更多：如何选择与获取 access token](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-choose-which-type-of-token-to-use)
Content-Type | string | 是 | **固定值**："application/json; charset=utf-8"

### 路径参数

名称 | 类型 | 描述
--- | --- | ---
job_family_id | string | 序列 ID。获取方式：  
- [创建序列](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/contact-v3/job_family/create)时可以从返回结果中获取（job_family_id）。  
- 调用[获取租户序列列表](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/contact-v3/job_family/list)接口获取序列 ID。  
**示例值**："mga5oa8ayjlpkzy"

### 请求体

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
name | string | 否 | 序列名称，租户内唯一。取值支持中、英文及符号。  
**默认值**：空，表示不更新  
**示例值**："产品"  
**数据校验规则**：  
- 长度范围：`1` ～ `100` 字符
description | string | 否 | 序列描述，描述序列详情信息。字符长度上限为 5,000。  
**默认值**：空，表示不更新  
**示例值**："负责产品策略制定的相关工作"
parent_job_family_id | string | 否 | 上级序列 ID。你可以调用[获取租户序列列表](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/contact-v3/job_family/list)接口，获取序列 ID。  
**默认值**：空，表示不更新  
**示例值**："mga5oa8ayjlpzjq"
status | boolean | 否 | 是否启用序列。  
**可选值有**：  
- true：启用  
- false：禁用  
**默认值**：空，表示不更新  
**示例值**：true
i18n_name | i18n_content\[\] | 否 | 多语言序列名称。  
**默认值**：空，表示不更新
locale | string | 否 | 语言版本。可选值有：  
- zh_cn：中文  
- en_us：英语  
- ja_jp：日语  
**示例值**："zh_cn"
value | string | 否 | 语言版本对应的值。  
**示例值**："多语言内容"
i18n_description | i18n_content\[\] | 否 | 多语言序列描述。  
**默认值**：空，表示不更新
locale | string | 否 | 语言版本。可选值有：  
- zh_cn：中文  
- en_us：英语  
- ja_jp：日语  
**示例值**："zh_cn"
value | string | 否 | 语言版本对应的值。  
**示例值**："多语言内容"

### 请求体示例
```json
{
    "name": "产品",
    "description": "负责产品策略制定的相关工作",
    "parent_job_family_id": "mga5oa8ayjlpzjq",
    "status": true,
    "i18n_name": [
        {
            "locale": "zh_cn",
            "value": "多语言内容"
        }
    ],
    "i18n_description": [
        {
            "locale": "zh_cn",
            "value": "多语言内容"
        }
    ]
}
```

## 响应

### 响应体

名称 | 类型 | 描述
--- | --- | ---
code | int | 错误码，非 0 表示失败
msg | string | 错误描述
data | \- | \-
job_family | job_family | 更新后的序列信息。
name | string | 序列名称。
description | string | 序列描述。
parent_job_family_id | string | 上级序列 ID。
status | boolean | 是否启用序列。  
**可能值有**：  
- true：启用  
- false：禁用
i18n_name | i18n_content\[\] | 多语言序列名称。
locale | string | 语言版本。
value | string | 语言版本对应的值。
i18n_description | i18n_content\[\] | 多语言序列描述。
locale | string | 语言版本。
value | string | 语言版本对应的值。
job_family_id | string | 序列 ID。后续可通过该 ID 更新、查询、删除序列。

### 响应体示例
```json
{
    "code": 0,
    "msg": "success",
    "data": {
        "job_family": {
            "name": "产品",
            "description": "负责产品策略制定的相关工作",
            "parent_job_family_id": "mga5oa8ayjlpzjq",
            "status": true,
            "i18n_name": [
                {
                    "locale": "zh_cn",
                    "value": "多语言内容"
                }
            ],
            "i18n_description": [
                {
                    "locale": "zh_cn",
                    "value": "多语言内容"
                }
            ],
            "job_family_id": "mga5oa8ayjlpkzy"
        }
    }
}
```

### 错误码

HTTP状态码 | 错误码 | 描述 | 排查建议
--- | --- | --- | ---
400 | 42403 | job family tenant lock fail | 并发更新序列受限，请等待一段时间重试。
400 | 42404 | job family name not valid | 序列名称无效。请求时 name 参数值支持中、英文及符号，长度限制 1 ~ 100 字符。
400 | 42405 | job family description not valid | 描述无效。描述的字符上限为 5,000。
400 | 42406 | job family name duplicate | 序列名称重复。你需要修改名称后重试。
400 | 42407 | job family has cycle | 序列不支持构成环形层级关系。例如，序列层级分为 A > B > C 三个层级，在 B 层级的序列配置上级序列 ID 时，不能选择 C 层级的序列。
400 | 42408 | parent job family not exist | 上级序列不存在。你需要检查并改为正确的上级序列 ID。
400 | 42409 | parent job family not enable | 上级序列处于禁用状态，不支持使用。
400 | 42410 | parent job family deleted | 上级序列已被删除，不支持使用。
400 | 42412 | job family external id duplicate | 序列 ID 重复，系统原因导致，请重试。
400 | 42411 | job family has child can not delete | 当前序列下存在子序列，不能删除。你需要先删除子序列。
404 | 42402 | job family not exist | 序列不存在。你需要检查并传入正确的序列 ID。
400 | 42413 | job family exceed level number | 序列层数超过限制，无法继续添加子序列。

更多错误码信息，参见[通用错误码](https://open.feishu.cn/document/ukTMukTMukTM/ugjM14COyUjL4ITN)。
