---
title: "更新自定义组织的匹配规则"
source_url: https://open.feishu.cn/document/corehr-v1/organization-management/custom_org/update_rule
last_remote_update: 2025-05-20
last_remote_update_timestamp: 1747710056000
---
最后更新于 2025-05-20

# 更新自定义组织的匹配规则

更新自定义组织的匹配规则。仅开启了「为组织设置自动匹配规则」的自定义组织类型可用。如需更新自定义组织基本信息可使用[更新自定义组织](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/custom_org/patch)

**注意事项**：- 自定义组织规则无生效时间概念，规则变更不会生成相应版本。
- 自定义组织规则变更后不会自动生效，需要在「飞书人事-组织管理-对应自定义组织」页面右上角点击「立即计算匹配规则」按钮才会生效。或者每天 0 点自动生效。

## 请求
名称 | 值
---|---
HTTP URL | https://open.feishu.cn/open-apis/corehr/v2/custom_orgs/update_rule
HTTP Method | POST
接口频率限制 | [5 次/秒](https://open.feishu.cn/document/ukTMukTMukTM/uUzN04SN3QjL1cDN)
支持的应用类型 | 自建应用、商店应用
权限要求  
            **调用该 API 所需的权限。开启其中任意一项权限即可调用** | 读写自定义组织信息(corehr:custom_org:write)

### 请求头

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
Authorization | string | 是 | `tenant_access_token`  
**值格式**："Bearer `access_token`"  
**示例值**："Bearer t-7f1bcd13fc57d46bac21793a18e560"  
[了解更多：如何选择与获取 access token](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-choose-which-type-of-token-to-use)
Content-Type | string | 是 | **固定值**："application/json; charset=utf-8"

### 请求体

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
object_api_name | string | 是 | 组织类型编码，可在「飞书人事-设置-组织设置」中相应的自定义组织目录下查看  
**示例值**："custom_org_01"
org_id | string | 是 | 自定义组织 ID  
- 可从 [批量查询自定义组织](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/custom_org/query)的 org_id 字段中获取。  
**示例值**："6862995757234914824"
match_rule_groups | match_rules\[\] | 否 | 自动匹配的规则组。  
- 需要在「飞书人事-设置-组织设置」中打开对应组织类型的自动匹配开关后，才可以使用匹配规则组字段。  
- 各个==match_rule_groups==之间是并集关系  
- 各个==match_rules==之间是交集关系  
**数据校验规则**：  
- 长度范围：`0` ～ `16`
match_rules | match_rule\[\] | 否 | 匹配规则列表，组内是交集关系  
**数据校验规则**：  
- 长度范围：`0` ～ `64`
left_value | string | 是 | 左值  
**示例值**："department"  
**可选值有**：  
- department：部门  
- department_hierarchy：部门（含下级）  
- work_location：工作地点  
- work_location_hierarchy：工作地点（含下级）  
- cost_center：成本中心  
- cost_center_hierarchy：成本中心（含下级）  
- job：职务  
- job_level：职级  
- job_family：序列  
- job_family_hierarchy：序列（含下级）  
- employee_type：人员类型
operator | string | 是 | 操作符  
**示例值**："contains"  
**可选值有**：  
- contains：包含  
- notContains：不包含
right_values | string\[\] | 否 | 右值，填写左值对应的 ID 列表。  
- ==department==和==department_hierarchy==：详细 ID 可通过[查询单个部门](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/department/get)接口获得，ID 类型需要为 ==people_corehr_department_id==。  
- ==work_location==和==work_location_hierarchy==：详细 ID 可通过[查询单个地点](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/location/get)接口获得。  
- ==cost_center==和==cost_center_hierarchy==：详细 ID 可通过[搜索成本中心信息](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/cost_center/search)接口获得。  
- ==job==：详细 ID 可通过[查询单个职务](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job/get)接口获得。  
- ==job_level==：详细 ID 可通过[查询单个职级](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job_level/get)接口获得。  
- ==job_family==和==job_family_hierarchy==：详细 ID 可通过[查询单个序列](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/job_family/get)接口获得。  
- ==employee_type==：详细 ID 可通过[查询人员类型](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/corehr-v1/employee_type/get)接口获得。  
**示例值**：["6862995757234914824"]  
**数据校验规则**：  
- 长度范围：`0` ～ `10000`

### 请求体示例
```json
{
    "object_api_name": "custom_org_01",
    "org_id": "6862995757234914824",
    "match_rule_groups": [
        {
            "match_rules": [
                {
                    "left_value": "department",
                    "operator": "contains",
                    "right_values": [
                        "6862995757234914824"
                    ]
                }
            ]
        }
    ]
}
```

## 响应

### 响应体

名称 | 类型 | 描述
--- | --- | ---
code | int | 错误码，非 0 表示失败
msg | string | 错误描述
data | \- | \-

### 响应体示例
```json
{
    "code": 0,
    "msg": "success",
    "data": {}
}
```

### 错误码

HTTP状态码 | 错误码 | 描述 | 排查建议
--- | --- | --- | ---
503 | 1161204 | Requset timeout | 联系飞书人事 [Oncall](https://applink.feishu.cn/TLJpeNdW)
429 | 1161604 | QPS over limit | 联系飞书人事 [Oncall](https://applink.feishu.cn/TLJpeNdW)
