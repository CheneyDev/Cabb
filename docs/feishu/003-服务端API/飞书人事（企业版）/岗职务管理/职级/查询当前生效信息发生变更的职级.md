---
title: "查询当前生效信息发生变更的职级"
source_url: https://open.feishu.cn/document/corehr-v1/job-management/job_level/query_recent_change
last_remote_update: 2025-07-01
last_remote_update_timestamp: 1751379118000
---
最后更新于 2025-07-01

# 查询当前生效信息发生变更的职级

查询指定时间范围内当前生效信息发生变更的职级，即只有地点当前生效版本的生效时间在查询时间范围内，才返回该职级id
**注意事项**：- 默认排序条件：默认先按照组织记录 ID 增序排序， 便于滚动查询
- 使用滚动查询而非分页查询，是为了防止大批量获取数据时，深分页导致超时
**注意事项**：- 时间窗支持大范围查询，限定查询范围在90天以内，例如要查询2020年1月1日至2020年6月30日的数据，建议分成两次查询，分别为2020年1月1日至2020年3月31日，2020年4月1日至2020年6月30日，不建议查询大时间范围数据 
- 未来生效的版本数据，会在生效日期当天凌晨产生变更事件。例如：今天为1月1日，新建职级 1月10日生效，则1月10日凌晨 1点之后可查询到

## 请求
名称 | 值
---|---
HTTP URL | https://open.feishu.cn/open-apis/corehr/v2/job_levels/query_recent_change
HTTP Method | GET
接口频率限制 | [5 次/秒](https://open.feishu.cn/document/ukTMukTMukTM/uUzN04SN3QjL1cDN)
支持的应用类型 | 自建应用、商店应用
权限要求  
            **调用该 API 所需的权限。开启其中任意一项权限即可调用**  
            开启任一权限即可 | 获取职级信息(corehr:job_level:read)  
            读写职级信息(corehr:job_level:write)

### 请求头

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
Authorization | string | 是 | `tenant_access_token`  
**值格式**："Bearer `access_token`"  
**示例值**："Bearer t-7f1bcd13fc57d46bac21793a18e560"  
[了解更多：如何选择与获取 access token](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-choose-which-type-of-token-to-use)

### 查询参数

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
page_size | int | 是 | 分页大小，最大 2000  
**示例值**：100  
**数据校验规则**：  
- 取值范围：`1` ～ `2000`
page_token | string | 否 | 分页标记，第一次请求不填，表示从头开始遍历；分页查询结果还有更多项时会同时返回新的 page_token，下次遍历可采用该 page_token 获取查询结果  
**示例值**：6891251722631890445
start_date | string | 是 | 查询的开始时间，支持"yyyy-MM-dd HH:MM:SS"  
**示例值**：2024-01-01 00:00:00
end_date | string | 是 | 查询的结束时间，格式 "yyyy-MM-dd HH:MM:SS"  
**示例值**：2024-04-01 00:00:00

## 响应

### 响应体

名称 | 类型 | 描述
--- | --- | ---
code | int | 错误码，非 0 表示失败
msg | string | 错误描述
data | \- | \-
job_level_ids | string\[\] | 职级 ID 列表，其中包含新建、更新以及删除的ID列表。  
- 非删除的数据，可通过[批量查询职级](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/corehr-v2/job_level/batch_get)获取详情
page_token | string | 分页标记，当 has_more 为 true 时，会同时返回新的 page_token，否则不返回 page_token
has_more | boolean | 是否还有更多项
deleted_job_level_ids | string\[\] | 目标查询时间范围内被删除的职级列表，  该列表是  job_level_ids 的子集，便于获取在指定的[start_date, end_date+1) 的范围内被删除的职级 IDs。  
- **由于对应的职级已经被删除，无法通过 ID 查询到历史数据。**

### 响应体示例
```json
{
    "code": 0,
    "msg": "success",
    "data": {
        "job_level_ids": [
            "7094136522860922111"
        ],
        "page_token": "eVQrYzJBNDNONlk4VFZBZVlSdzlKdFJ4bVVHVExENDNKVHoxaVdiVnViQT0=",
        "has_more": true,
        "deleted_job_level_ids": [
            "7094136522860922111"
        ]
    }
}
```

### 错误码

HTTP状态码 | 错误码 | 描述 | 排查建议
--- | --- | --- | ---
400 | 1160107 | param is invalid | 请检查日期格式，以及查询开始时间与结束时间的范围不超过 90 天
