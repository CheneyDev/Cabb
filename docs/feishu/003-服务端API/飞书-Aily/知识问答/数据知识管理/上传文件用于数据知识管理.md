---
title: "上传文件用于数据知识管理"
source_url: https://open.feishu.cn/document/aily-v1/data-knowledge/data-knowledge-management/upload_file
last_remote_update: 2025-07-10
last_remote_update_timestamp: 1752154975000
---
最后更新于 2025-07-10

# 上传文件用于 Aily 的数据知识管理

上传文件用于 Aily 的数据知识管理
。
**注意事项**：- 仅支持开发环境
- 开发者需要 Aily 创建平台的应用协作者角色，包括管理员、开发者、运维人员
- 使用应用身份仅支持[ Aily 平台](https://aily.feishu.cn)渠道的应用身份
- 仅支持上传docx、txt、pdf、pptx类型的文件

## 请求
名称 | 值
---|---
HTTP URL | https://open.feishu.cn/open-apis/aily/v1/apps/:app_id/data_assets/upload_file
HTTP Method | POST
接口频率限制 | [5 次/秒](https://open.feishu.cn/document/ukTMukTMukTM/uUzN04SN3QjL1cDN)
支持的应用类型 | 自建应用
权限要求  
            **调用该 API 所需的权限。开启其中任意一项权限即可调用** | 上传数据知识文件(aily:data_asset:upload_file)

### 请求头

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
Authorization | string | 是 | `tenant_access_token`  
或  
`user_access_token`  
**值格式**："Bearer `access_token`"  
**示例值**："Bearer u-7f1bcd13fc57d46bac21793a18e560"  
[了解更多：如何选择与获取 access token](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-choose-which-type-of-token-to-use)
Content-Type | string | 是 | **示例值**："multipart/form-data; boundary=---7MA4YWxkTrZu0gW"

### 路径参数

名称 | 类型 | 描述
--- | --- | ---
app_id | string | Aily 平台的应用的APPID，可以直接从 Aily 应用的URL中获取。获取示例：/ai/{APPID}  
**示例值**："spring_dsafdsaf__c"  
**数据校验规则**：  
- 长度范围：`0` ～ `255` 字符

### 查询参数

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
tenant_type | string | 否 | 应用环境，枚举值：  
- `online`：线上环境（默认值）  
- `dev`：开发环境；目前只支持 `dev`  
**示例值**：dev  
**数据校验规则**：  
- 长度范围：`0` ～ `255` 字符

### 请求体

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
file | file | 是 | 需要上传的文件。仅支持上传 docx、txt、pdf、pptx 类型的文件。  
**示例值**：file binary

### 请求体示例

```HTTP
---7MA4YWxkTrZu0gW
Content-Disposition: form-data; name="file";
Content-Type: application/octet-stream

---7MA4YWxkTrZu0gW
```

## 响应

### 响应体

名称 | 类型 | 描述
--- | --- | ---
code | int | 错误码，非 0 表示失败
msg | string | 错误描述
data | \- | \-
file_info | data_asset_file | 数据知识文件
token | string | 数据知识文件 token
mime_type | string | 解析出的文件类型，包括pdf、docx、pptx、txt

### 响应体示例
```json
{
    "code": 0,
    "msg": "success",
    "data": {
        "file_info": {
            "token": "file_token_abcd123",
            "mime_type": "application/pdf"
        }
    }
}
```

### 错误码

HTTP状态码 | 错误码 | 描述 | 排查建议
--- | --- | --- | ---
400 | 2700001 | param is invalid | 参数错误，请结合说明文档排查
403 | 2701004 | permission denied | 无权限，请检查是否有开发者或者运维权限
400 | 2700026 | only support development environment | 仅支持开发环境操作
400 | 2700035 | the file size exceeds 50M | 上传文件大小超过50M
400 | 2700034 | unsupported file type | 不支持的文件类型
400 | 2700027 | only upload one file is supported | 仅支持上传单个文件
400 | 2700472 | some param miss or invalid | 部分参数缺失或者不合法，请结合文档排查
