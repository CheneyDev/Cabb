---
title: "查询数据变更日志详情"
source_url: https://open.feishu.cn/document/apaas-v1/application-audit_log/data_change_log_detail
last_remote_update: 2025-01-21
last_remote_update_timestamp: 1737441315000
---
最后更新于 2025-01-21

# 飞书低代码平台-查询数据变更日志详情

根据日志 ID 查询数据变更日志详情

## 请求
名称 | 值
---|---
HTTP URL | https://open.feishu.cn/open-apis/apaas/v1/applications/:namespace/audit_log/data_change_log_detail
HTTP Method | GET
接口频率限制 | [10 次/秒](https://open.feishu.cn/document/ukTMukTMukTM/uUzN04SN3QjL1cDN)
支持的应用类型 | 自建应用、商店应用
权限要求  
            **调用该 API 所需的权限。开启其中任意一项权限即可调用** | 获取飞书低代码平台审计日志信息(app_engine:security.audit_log:read)

### 请求头

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
Authorization | string | 是 | `user_access_token`  
**值格式**："Bearer `access_token`"  
**示例值**："Bearer u-7f1bcd13fc57d46bac21793a18e560"  
[了解更多：如何选择与获取 access token](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-choose-which-type-of-token-to-use)

### 路径参数

名称 | 类型 | 描述
--- | --- | ---
namespace | string | 应用命名空间  
**示例值**："package_aaa"  
**数据校验规则**：  
- 长度范围：`0` ～ `1000` 字符

### 查询参数

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
log_id | string | 是 | 数据变更日志ID信息  
**示例值**：7405456257290600492  
**数据校验规则**：  
- 长度范围：`0` ～ `1000` 字符

## 响应

### 响应体

名称 | 类型 | 描述
--- | --- | ---
code | int | 错误码，非 0 表示失败
msg | string | 错误描述
data | \- | \-
data | audit_log_detail | 数据变更日志详情信息
log_id | string | 审计日志ID
basic_info | basic_info | 日志基础信息
log_type | string | 日志类型：10000-全部类型；10001-企业管理；10002-登录日志；10003-应用管理
audit_scope | string | 审计域：15001-企业管理后台；15002-应用管理后台；15003-应用开发平台
env_type | string | 环境类型：16001-沙箱环境；16003-线上环境
app_id | string | 应用id
module | string | 审计日志功能模块
op_type | string | 事件类型
app_name | map&lt;string, string&gt; | 应用名称
op_info | audit_log_op_info | 审计日志操作信息
operator | lookup_with_avatar | 操作人
id | string | 用户ID
name | string | 用户名称
tenant_id | string | 租户ID
email | string | 用户邮箱
outsider | boolean | 是否为外部用户，true代表是外部用户
op_detail | map&lt;string, string&gt; | 操作详情内容
status | string | 操作状态：18001-成功；18002-失败
failed_reason | string | 失败原因
failed_reason_i18n | map&lt;string, string&gt; | 多语类型失败原因
op_time | string | 操作时间
data_object | string | 数据对象
op_source | string | 操作源：20001-前端；20004-openapi
data_changes | string\[\] | 数据变化(旧值和新值)
login_info | audit_log_login_info | 登录类型信息
login_type | string | 登录类型：11001-飞书登录；11003-账号密码登录
device_info | audit_log_device_info | 设备信息
device_id | string | 设备ID
web_device_id | string | web端设备ID
terminal_type | string | 终端类型：13002-PC类型；13003-Web类型
os_type | string | 系统类型：14002-window；14001-未知
os_version | string | 系统版本
net_info | audit_log_net_info | 网络信息
client_ip | string | 客户端IP
ip_loc | string | IP位置
ip_provider | string | IP提供商
referer | string | 引用页面
origin | string | 源页面
user_agent | string | 用户代理

### 响应体示例
```json
{
    "code": 0,
    "msg": "success",
    "data": {
        "data": {
            "log_id": "7376574450886557740",
            "basic_info": {
                "log_type": "10000",
                "audit_scope": "15001",
                "env_type": "16003",
                "app_id": "app123",
                "module": "17001",
                "op_type": "19001",
                "app_name": {
                    "zh": "应用名称"
                }
            },
            "op_info": {
                "operator": {
                    "id": "1768491480010814",
                    "name": "郭晋",
                    "tenant_id": "79844",
                    "email": "guojin.jim@bytedance.com"
                },
                "outsider": true,
                "op_detail": {
                    "language_code": 2052,
                    "text": "内部用户 <a id=1645514825206 type=\"user\">赵四</a> 登录了平台"
                },
                "status": "18001",
                "failed_reason": "登录失败",
                "failed_reason_i18n": {
                    "zh": "失败原因"
                },
                "op_time": "1723634726874",
                "data_object": "object_api_aaa",
                "op_source": "20001",
                "data_changes": [
                    "{\"old\": \"OldData\",\"new\": \"NewData\"}"
                ]
            },
            "login_info": {
                "login_type": "11001"
            },
            "device_info": {
                "device_id": "device_1234",
                "web_device_id": "webDevice_1234",
                "terminal_type": "2",
                "os_type": "14002",
                "os_version": "14.6"
            },
            "net_info": {
                "client_ip": "192.168.1.1",
                "ip_loc": "中国北京",
                "ip_provider": "ISP_com",
                "referer": "https://example.com/referer",
                "origin": "https://example.com/origin",
                "user_agent": "Mozilla/5.0 (iPhone; CPU iPhone OS 14_6 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15E148"
            }
        }
    }
}
```

### 错误码

HTTP状态码 | 错误码 | 描述 | 排查建议
--- | --- | --- | ---
400 | 2320001 | param is invalid | 检查请求入参
