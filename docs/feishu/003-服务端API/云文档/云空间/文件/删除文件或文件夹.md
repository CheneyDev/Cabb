---
title: "删除文件或文件夹"
source_url: https://open.feishu.cn/document/server-docs/docs/drive-v1/file/delete
last_remote_update: 2024-09-20
last_remote_update_timestamp: 1726818321000
---
最后更新于 2024-09-20

# 删除文件或文件夹

删除用户在云空间内的文件或者文件夹。文件或文件夹被删除后，会进入回收站中。

**注意事项**：如果你删除的是文件夹，该接口将异步执行，同时返回该异步任务的 ID。你可使用[查询异步任务状态](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/file/task_check)接口查询任务执行的状态。

## 前提条件

要删除文件，需要确保应用或用户具有以下两种权限之一：
- 该应用或用户是文件所有者并且具有该文件所在父文件夹的编辑权限。
- 该应用或用户并非文件所有者，但是该文件所在父文件夹的所有者或者拥有该父文件夹的所有权限（full access）。

## 使用限制

该接口不支持并发调用，且调用频率上限为 5 QPS，10000 次/天。否则会返回 1061045 错误码，可通过稍后重试解决。

## 请求
名称 | 值
---|---
HTTP URL | https://open.feishu.cn/open-apis/drive/v1/files/:file_token
HTTP Method | DELETE
接口频率限制 | [特殊频控](https://open.feishu.cn/document/ukTMukTMukTM/uUzN04SN3QjL1cDN)
支持的应用类型 | 自建应用、商店应用
权限要求  
            **调用该 API 所需的权限。开启其中任意一项权限即可调用**  
            开启任一权限即可 | 查看、评论、编辑和管理云空间中所有文件(drive:drive)  
            删除云空间文件夹和云文档(space:document:delete)

### 请求头

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
Authorization | string | 是 | `tenant_access_token`  
或  
`user_access_token`  
**值格式**："Bearer `access_token`"  
**示例值**："Bearer u-7f1bcd13fc57d46bac21793a18e560"  
[了解更多：如何选择与获取 access token](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-choose-which-type-of-token-to-use)

### 路径参数

名称 | 类型 | 描述
--- | --- | ---
file_token | string | 需要删除的文件或文件夹 token。  
了解如何获取文件 token，参考[文件概述](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/file/file-overview)。  
了解如何获取文件夹 token，参考[文件夹概述](https://open.feishu.cn/document/ukTMukTMukTM/ugTNzUjL4UzM14CO1MTN/folder-overview)。  
**示例值**："boxcnrHpsg1QDqXAAAyachabcef"

### 查询参数

名称 | 类型 | 必填 | 描述
--- | --- | --- | ---
type | string | 是 | 被删除文件的类型  
**示例值**：file  
**可选值有**：  
- file：文件类型  
- docx：新版文档类型  
- bitable：多维表格类型  
- folder：文件夹类型  
- doc：文档类型  
- sheet：电子表格类型  
- mindnote：思维笔记类型  
- shortcut：快捷方式类型  
- slides：幻灯片

## 响应

### 响应体

名称 | 类型 | 描述
--- | --- | ---
code | int | 错误码，非 0 表示失败
msg | string | 错误描述
data | \- | \-
task_id | string | 异步任务 ID，删除文件夹时返回。你可继续使用[查询异步任务状态](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/file/task_check)接口查询任务执行状态

### 响应体示例
```json
{
    "code": 0,
    "msg": "success",
    "data": {
        "task_id": "7360595374803812356"
    }
}
```

### 错误码

HTTP状态码 | 错误码 | 描述 | 排查建议
--- | --- | --- | ---
400 | 1061001 | internal error. | 服务内部错误，包括超时，错误码没处理。
400 | 1061002 | params error. | 请检查请求参数是否正确。
404 | 1061003 | not found. | 请确认对应资源是否存在。
403 | 1061004 | forbidden. | 当前调用身份没有文件或文件夹的阅读或编辑等权限。请参考以下方式解决：  
- 若上传素材，请确保当前调用身份具有目标云文档的编辑权限  
- 若上传文件，请确保当前调用身份具有文件夹的编辑权限  
- 若对文件或文件夹进行增删改等操作，请确保调用身份具有足够文档权限：  
    - 对于新建文件接口，调用身份需要有目标文件夹的编辑权限  
    - 对于复制文件接口，调用身份需要有文件的阅读或编辑权限、并且具有目标文件夹的编辑权限  
    - 对于移动文件接口，调用身份需要有被移动文件的可管理权限、被移动文件所在位置的编辑权限、目标位置的编辑权限  
    - 对于删除文件接口，调用身份需要具有以下两种权限之一：  
        - 该应用或用户是文件所有者并且具有该文件所在父文件夹的编辑权限  
        - 该应用或用户并非文件所有者，但是该文件所在父文件夹的所有者或者拥有该父文件夹的所有权限（full access）  
了解开通权限步骤，参考[如何为应用开通云文档相关资源的权限](https://open.feishu.cn/document/uAjLw4CM/ugTN1YjL4UTN24CO1UjN/trouble-shooting/how-to-add-permissions-to-app)。
401 | 1061005 | auth failed. | 请使用正确身份访问该接口。
404 | 1061007 | file has been delete. | 请确认对应节点未被删除。
403 | 1062501 | operate node no permission. | 请确认拥有操作节点的权限。
403 | 1062502 | operate sub node no permission. | 请确认拥有操作节点的子节点权限。
404 | 1065200 | source node not found. | 操作的源节点找不到， 指查询不到数据库记录,  也可能是主从延迟。

错误码具体可参考：[服务端错误码说明](https://open.feishu.cn/document/ukTMukTMukTM/ugjM14COyUjL4ITN)
