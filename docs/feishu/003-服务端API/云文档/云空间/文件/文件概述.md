---
title: "文件概述"
source_url: https://open.feishu.cn/document/docs/drive-v1/file/file-overview
last_remote_update: 2025-03-11
last_remote_update_timestamp: 1741680184000
---
最后更新于 2025-03-11

# 文件概述
本文档介绍云空间中文件相关能力的基础概念、文件 token 的获取方式和文件的 API 列表。

## 基础概念

文件是云空间内各种类型的文件的统称，泛指云空间内所有的文件。包括在云空间创建的在线文档、电子表格、多维表格、思维笔记、知识库中的文档等，也包括从本地环境上传的各类文件。

## 文件 token 获取方式

每个文件都有唯一的 token 作为标识。不同类型的文件的 token 命名可能不同，包括 `token`、 `document_id`、`file_token`、`app_token`、`spreadsheetToken` 等。

放置在文件夹和知识库中的文件，其 token 的获取方式不同，具体如下所示。

### 文件夹中的文件

如果文件存储在飞书云空间（云盘）的文件夹中，你可通过以下两种方式获取文件的 token：
- 方式一：如下图，在浏览器中打开文件，在地址栏中获取文件的 token。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/c957393de2c0118a9b00d4a8be98dd6a_1n9tz7k1Wo.png?height=169&lazyload=true&maxWidth=568&width=1468)

- 方式二：调用开放平台接口获取。
    1. 调用[获取我的空间（root folder）元数据](https://open.feishu.cn/document/ukTMukTMukTM/ugTNzUjL4UzM14CO1MTN/get-root-folder-meta)接口获取根目录（即根文件夹）的 token。
    2. 继续调用[获取文件夹中的文件清单](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/file/list)接口，获取根目录下文件的 token。

### 知识库中的文件

如果文件放置在知识库中，其 URL 中有 **wiki** 标识，如下图。
此时，该文件也是知识库中的一个节点（node）。

你需调用知识库的[获取知识空间节点信息](https://open.feishu.cn/document/ukTMukTMukTM/uUDN04SN0QjL1QDN/wiki-v2/space/get_node)接口，传入该 URL 中的 token 部分，并确保文件类型参数 `obj_type` 为 `wiki`，获取该类文件的实际类型 `obj_token`。

![image.png](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/bb2e4afcd9a67d6fac88dd959efbf8f5_qW3nWJfKYz.png?height=408&lazyload=true&maxWidth=568&width=1410)

## 方法列表

以下为文件夹的方法列表。其中，“商店”代表应用商店应用；“自建”代表企业自建应用，了解更多应用相关信息，参考[应用类型简介](https://open.feishu.cn/document/home/app-types-introduction/overview)。了解调用服务端 API 的流程，参考[流程概述](https://open.feishu.cn/document/uMzNwEjLzcDMx4yM3ATM/ugzNwEjL4cDMx4CO3ATM)。

<b>方法 (API) | <b>权限要求（满足任一） | <b>访问凭证 | <b>商店 | <b>自建
--- | --- | --- | --- | ---
`POST` [获取文件元数据](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/meta/batch_query) /open-apis/drive/v1/metas/batch_query | 查看、评论、编辑和管理云空间中所有文件(drive:drive)  
查看云空间中文件元数据(drive:drive.metadata:readonly) | `tenant_access_token`  
                `user_access_token` | **✓** | **✓**
`POST` [获取文件统计信息](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/file-statistics/get) /open-apis/drive/v1/files/:file_token/statistics | 查看、评论、编辑和管理云空间中所有文件(drive:drive)  
            查看云空间中文件元数据(drive:drive.metadata:readonly)  
            查看、评论和下载云空间中所有文件(drive:drive:readonly) | `tenant_access_token`  
                `user_access_token` | **✓** | **✓**
`POST` [获取文件访问记录](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/file-view_record/list)/open-apis/drive/v1/files/:file_token/view_records | 获取用户基本信息(contact:user.base:readonly)  
                获取文档访问记录(drive:file:view_record:readonly) | `tenant_access_token`  
                `user_access_token` | **✓** | **✓**
`POST` [新建文件](https://open.feishu.cn/document/ukTMukTMukTM/uQTNzUjL0UzM14CN1MTN)/open-apis/drive/explorer/v2/file/:folderToken | 查看、评论、编辑和管理云空间中所有文件(drive:drive)  
                 查看、评论、编辑和管理文档(docs:doc)  
                 查看、评论、编辑和管理电子表格(sheets:spreadsheet) | `tenant_access_token`  
                `user_access_token` | **✓** | **✓**
`POST` [复制文件](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/file/copy)/open-apis/drive/v1/files/:file_token/copy | 复制云文档(docs:document:copy)  
         查看、评论、编辑和管理云空间中所有文件(drive:drive) | `tenant_access_token`  
                `user_access_token` | **✓** | **✓**
`POST` [移动文件](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/file/move)/open-apis/drive/v1/files/:file_token/move | 查看、评论、编辑和管理云空间中所有文件(drive:drive)  
                 移动云空间文件夹和云文档(space:document:move) | `tenant_access_token`  
                `user_access_token` | **✓** | **✓**
`DELETE` [删除文件](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/file/delete)/open-apis/drive/v1/files/:file_token | 查看、评论、编辑和管理云空间中所有文件(drive:drive)  
                删除云空间文件夹和云文档(space:document:delete) | `tenant_access_token`  
                `user_access_token` | **✓** | **✓**
`POST` [创建文件快捷方式](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/file/create_shortcut)/open-apis/drive/v1/files/create_shortcut | 查看、评论、编辑和管理云空间中所有文件(drive:drive)  
        创建云文档的快捷方式(space:document:shortcut) | `tenant_access_token`  
                `user_access_token` | **✓** | **✓**
`POST` [搜索文件](https://open.feishu.cn/document/ukTMukTMukTM/ugDM4UjL4ADO14COwgTN)/open-apis/suite/docs-api/search/object | 查看、评论、编辑和管理云文档所有文件(drive:drive)  
          查看、评论和下载云空间中所有文件(drive:drive:readonly)  
          搜索云文档(search:docs:read) | `user_access_token` | **✓** | **✓**
`POST` [上传文件](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/file/upload_all)/open-apis/drive/v1/files/upload_all | 查看、评论、编辑和管理云空间中所有文件(drive:drive)  
                上传、下载文件到云空间(drive:file)  
                上传文件(drive:file:upload) | `tenant_access_token`  
                `user_access_token` | **✓** | **✓**
`POST` 分片上传文件  
- [/open-apis/drive/v1/files/upload_prepare](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/file/upload_prepare)  
- [/open-apis/drive/v1/files/upload_part](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/file/upload_part)  
- [/open-apis/drive/v1/files/upload_finish](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/file/upload_finish) | 查看、评论、编辑和管理云空间中所有文件(drive:drive)  
                上传、下载文件到云空间(drive:file)  
                上传文件(drive:file:upload) | `tenant_access_token`  
                `user_access_token` | **✓** | **✓**
`GET` [下载文件](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/file/download)/open-apis/drive/v1/files/:file_token/download | 查看、评论、编辑和管理云空间中所有文件(drive:drive)  
                查看、评论和下载云空间中所有文件(drive:drive:readonly)  
                上传、下载文件到云空间(drive:file)  
                下载云空间下的文件(drive:file:download)  
                查看和下载云空间中的文件(drive:file:readonly) | `tenant_access_token`  
                `user_access_token` | **✓** | **✓**
`POST` [创建导入任务](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/import_task/create)/open-apis/drive/v1/import_tasks | 查看、创建云文档导入任务(docs:document:import)  
                查看、评论、编辑和管理云空间中所有文件(drive:drive) | `tenant_access_token`  
                `user_access_token` | **✓** | **✓**
`POST`[查询导入任务结果](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/import_task/get)/open-apis/drive/v1/import_tasks/:ticket | 查看、创建云文档导入任务(docs:document:import)  
                 查看、评论、编辑和管理云空间中所有文件(drive:drive)  
查看、评论和下载云空间中所有文件(drive:drive:readonly) | `tenant_access_token`  
                `user_access_token` | **✓** | **✓**
`POST` 导出云文档  
- [/open-apis/drive/v1/export_tasks](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/export_task/create)   
- [/open-apis/drive/v1/export_tasks/:ticket](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/export_task/get)  
- [/open-apis/drive/v1/export_tasks/file/:file_token/download](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/drive-v1/export_task/download) | 导出云文档(docs:document:export)  
                导出云文档(drive:export:readonly) | `tenant_access_token`  
                `user_access_token` | **×** | **✓**
