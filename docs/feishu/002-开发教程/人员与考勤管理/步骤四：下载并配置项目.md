---
title: "步骤四：下载并配置项目"
source_url: https://open.feishu.cn/document/quick-start-of-personnel-and-attendance-management-system/step-4-download-and-configure-the-project
last_remote_update: 2023-09-06
last_remote_update_timestamp: 1693995097000
---
最后更新于 2023-09-06

# 步骤四：下载并配置项目

在本步骤，你将下载并配置教程提供的示例代码。

## 操作步骤

1. 执行以下命令，下载[示例代码](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/85d403f56bbfa22f2023987dd3d71027_2FJZOabVnm.zip)。

```bash
    curl https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/85d403f56bbfa22f2023987dd3d71027_2FJZOabVnm.zip -o translation_app.zip
    ```

2. 下载完成后，使用`unzip`命令进行解压。

> Windows 用户可以直接使用解压缩工具进行解压。

```bash
    unzip translation_app.zip
    ```

解压后的代码结构如下：

```
    ├─ translation_app
    │  ├─ public
    │  │  └─ index.html                    -- 入口html
    │  ├─ src
    │  │  ├─ App.tsx                       
    │  │  ├─ api.ts                        -- 接口定义
    │  │  ├─ axios.ts                      -- axios封装
    │  │  ├─ client
    │  │  │  └─ use-free-login.js         -- 免登代码
    │  │  ├─ compents                      -- 组件
    │  │  │  ├─ approve
    │  │  │  │  └─ index.tsx              -- 审批
    │  │  │  ├─ department
    │  │  │  │  └─ index.tsx              -- 部门管理
    │  │  │  ├─ mainContent
    │  │  │  │  └─ index.tsx
    │  │  │  └─ personnel
    │  │  │     └─ index.tsx               -- 人员
    │  │  ├─ config.js                      -- 定义常量（appId、appSecret）
    │  │  ├─ index.css
    │  │  ├─ index.tsx
    │  │  ├─ logo.svg
    │  │  ├─ server                         -- 服务层
    │  │  │  ├─ add-leave-records.js       -- 添加请假记录
    │  │  │  ├─ add-table.js               -- 创建多维表格
    │  │  │  ├─ add-work-records.js        -- 添加加班记录
    │  │  │  ├─ approval.js                -- 自定义审批事件
    │  │  │  ├─ client.js                  -- 引入node-sdk
    │  │  │  ├─ create-deparment.js        -- 创建部门
    │  │  │  ├─ create-leave-work.js       -- 请假
    │  │  │  ├─ create-sub-department.js   -- 创建子部门
    │  │  │  ├─ create-work.js             -- 加班
    │  │  │  ├─ get-all-department.js      -- 获取所有部门
    │  │  │  ├─ getrecords.js              -- 列出多维表格记录
    │  │  │  ├─ index.js                   -- 入口文件
    │  │  │  ├─ config.js                  -- 导出approve_code
    │  │  │  ├─ listen-message-card-event.js  -- 消息卡片操作
    │  │  └─ type.ts
    │  └─ tsconfig.json
    ```

3. 配置项目中的变量值。

1. 将 appId、appSecret 填入 `/translation_app/src/config.js  `和 `/translation_app/src/server/client.js` 中。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/f285feb1e21d53fcf866bcf6cf9b36cd_9m6Pj6oSfq.png?lazyload=true&width=1694&height=1204&maxWidth=600)

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/a07bc04025db80cecfaf03b15a9e7c50_CUFUZdR9xP.png?lazyload=true&width=1728&height=998&maxWidth=600)

2. 应用的 **appId** 和 **appSecret** 可以在 [开发者后台](https://open.feishu.cn/app) 的 **凭证与基础信息** 页查看。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/a662043459028b27a15c4a879dc76bc8_Vk2paLY0cB.png?lazyload=true&width=2326&height=516&maxWidth=600)

3. 将 **请假通过** 及 **加班通过** 的卡片 ID 依次配置到 `/translation_app/src/server/message-card/listen-message-card-event.js`。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/f084465f4a6a84c3488e587d0bd9cebe_4n5fd2JPkA.png?lazyload=true&width=2826&height=1250&maxWidth=600)

4. 将**加班审批卡片 ID** 配置到 `/translation_app/src/server/approve/create-work.js`。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/2610c666094919f5e0d01ed93fe07b97_dPD3X3ZVyu.png?lazyload=true&width=2798&height=1384&maxWidth=600)

5. 将 **请假审批卡片 ID** 配置到 `/translation_app/src/server/approval/approval.js`。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/e05a23df9410890230aff14fa47f525b_OtiXtMgSjF.png?lazyload=true&width=2118&height=1214&maxWidth=600)

消息卡片 ID 可以在 [消息卡片搭建工具](https://open.feishu.cn/tool/cardbuilder) 中 **我的卡片** 栏中直接点击 **复制卡片 ID**，也可以在卡片预览区域点击复制卡片 ID。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/e2a19268f718e362c67e23a2951590fe_yc0GAQ4XrP.png?lazyload=true&width=1668&height=1148&maxWidth=600)

6. 将 CUSTOM_APPROVE_CODE 配置到 `/translation_app/src/server/config.js`

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/8cc51a8d012a6a4b6c28185e8a6fd6b9_hehxcjQOsg.png?lazyload=true&width=1988&height=1004&maxWidth=600)

CUSTOM_APPROVE_CODE 可以在 [审批管理后台](https://www.feishu.cn/approval/admin) 的审批实例编辑页查看。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/e55feccbd6b1d6f7dbbbc5645fe33381_pK2sL0hmsl.png?lazyload=true&width=2334&height=742&maxWidth=600)
