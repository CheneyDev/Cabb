---
title: "步骤三：配置卡片回调"
source_url: https://open.feishu.cn/document/historical-version/build-a-beautiful-message-card-in-5-minutes/add-interaction
last_remote_update: 2024-12-02
last_remote_update_timestamp: 1733119760000
---
最后更新于 2024-12-02

# 步骤三：配置卡片回调

在用户对消息卡片进行操作时，如果你需要对用户操作进行响应，那么你还需要配置消息卡片回调。用户完成卡片操作之后，飞书开放平台会将卡片信息以 HTTP POST 请求发送到卡片回调地址。本文介绍如何配置消息卡片回调。

## 操作步骤

1. 登录[开发者后台](https://open.feishu.cn/app)。

2. 进入应用详情页，在左侧导航栏点击 **事件与回调**。

3. 在 **回调配置** 页签的 **订阅方式** 区域，填写用于接收卡片回调的开发者服务器地址。

![image.png](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/e0b6788c003116c79b361c12b8684359_q1roittYZp.png?height=994&lazyload=true&maxWidth=550&width=1736)

4. 点击 **保存**。

点击时，开放平台会向你配置的请求地址发送一个 `application/json` 格式的 HTTP POST 请求，用于验证你所配置地址的合法性。

请求示例如下：

```JSON
    {
         "challenge": "1b6aef1a-401f-406a-be41-f48911e00be7", 
         "type": "url_verification", 
         "token": "qjSwzC****4T1uhJ"
    }
    ```

参数说明如下：

| **参数** | **类型** | **示例值** | **说明** |
    | --- | --- | --- | --- |
    | challenge | String | 1b6aef1a-401f-*** | 你需要在响应中原样返回的值。 |
    | type | String | url_verification | 事件类型。 <br> 当前请求中固定值为 `url_verification` 表示当前请求为验证URL合法性。 |
    | token | String | qjSwzC****4T1uhJ | 应用验证标识，你可以根据此 Token 验证推送的事件是否属于当前应用。 <br> 可以在[开发者后台](https://open.feishu.cn/app) > **事件订阅** 页面，查看和重置该值。 |

你需要在 3s 内将`challenge`值（JSON格式）原样返回给飞书开放平台，否则请求地址验证将失败。

返回示例如下：
    ```JSON
    { 
        "challenge": "1b6aef1a-401f-406a-be41-f48911e00be7"
    }
    ```

5. 在 **已订阅的回调** 区域，点击 **添加回调**。

6. 搜索并添加 **消息卡片回传交互（旧）** 回调。

![image.png](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/f23aca09163756c5ee81badc7e6da531_39IGVlKcF1.png?height=440&lazyload=true&maxWidth=550&width=2186)
