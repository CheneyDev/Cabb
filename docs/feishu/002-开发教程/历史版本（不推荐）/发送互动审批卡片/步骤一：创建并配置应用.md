---
title: "步骤一：创建并配置应用"
source_url: https://open.feishu.cn/document/historical-version/interactive-message-card-sending/set-up-interactive-message-cards-and-send-them
last_remote_update: 2024-07-12
last_remote_update_timestamp: 1720776268000
---
最后更新于 2024-07-12

# 步骤一：创建并配置应用

你需要创建一个企业自建应用，并配置应用权限。

## 操作步骤

1. 登录[飞书开发者后台](https://open.feishu.cn/app)。

2. 在开发者后台首页，单击 **创建企业** **自建应用**，填写应用名称、描述以及图标信息，然后单击 **创建**。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/efc6fede6f25e7f3ff643a6ea328c613_zd3M4pKk73.png?height=1374&lazyload=true&maxWidth=400&width=1164)

3. 关联测试企业，生成测试版本的应用。

1. 在应用详情页左侧导航栏，进入 **测试企业和人员** 页面，并在页面右上角单击 **创建测试企业**。

为了满足开发测试阶段频繁变更配置的需求，飞书开放平台提供了[测试企业与人员功能](https://open.feishu.cn/document/home/introduction-to-custom-app-development/testing-enterprise-and-personnel-functions)。在开发阶段，推荐开发者使用测试版应用，此**版本中涉及的权限和配置变更都会直接生效，无需管理员审核**，客户端的测试也将在测试租户进行。在所有的开发测试完成之后，切换、手动同步到正式版应用，仅提交一次审核即可，大大加速了开发效率，也降低了对管理员的打扰。

2. 在 **创建测试企业** 对话框，填写 **测试企业名称**、**手机号**、**验证码**，并单击 **确认创建**。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/21c43f85e1919ad00f929f9b2fa67819_tabWLvhk35.png?height=572&lazyload=true&maxWidth=400&width=1160)

3. 创建测试企业后，在 **操作** 列，单击 **关联应用**。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/341586fdf85d2297f0eb9ef2e85a1b09_zv6hMd075h.png?height=552&lazyload=true&maxWidth=600&width=2950)

4. 测试企业关联应用后，在页面顶部切换企业应用为测试版应用。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/5d934d17429ce3722de3fafa4ae4356e_8L3m96WMHb.png?height=804&lazyload=true&maxWidth=600&width=3576)

4. 在 **应用能力** > **添加应用能力** 页面的 **按能力添加** 页签，找到 **机器人** 卡片，并点击 **添加**。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/da139bc3e603ac042fff66fec0005162_ziQ7EZHRyQ.png?height=892&lazyload=true&maxWidth=600&width=1674)

5. 在 **开发配置** > **权限管理** 页面，为应用添加以下 API 权限。

`im:message:send_as_bot`：以应用的身份发消息

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/2cf4737434e92d5b0cf1f7a981d1a7d8_VoEKjxk8V8.png?height=834&lazyload=true&maxWidth=600&width=2232)

6. 配置消息卡片请求网址。

- 将你本地服务的公网地址配置为消息卡片请求网址，后续当用户点击消息卡片内的交互模块（例如按钮）后，开放平台会向该请求网址发送请求数据。

- 首次配置时，开放平台会向你配置的请求地址发送一个`application/json`格式的 POST 请求，用于验证你所配置地址的合法性。详细的配置说明，参见[卡片回调地址](https://open.feishu.cn/document/ukTMukTMukTM/uYzMxEjL2MTMx4iNzETM)。

详细操作：

1. 进入 **事件与回调** > **回调配置** 页面。

2. 在 **订阅方式** 右侧点击编辑图标，并设置 **请求地址**。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/3707845282a63568d3be500288691323_A0qcWJNlbg.png?height=1000&lazyload=true&maxWidth=600&width=1742)

3. 在 **已订阅的回调** 区域点击 **添加回调**，然后添加 **消息卡片回传交互（旧）** 回调。

![image.png](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/116d50af3ffbf8f6a164bb7f4b472454_rfF11Ir8WQ.png?height=376&lazyload=true&maxWidth=600&width=2162)
