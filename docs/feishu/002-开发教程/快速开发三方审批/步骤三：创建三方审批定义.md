---
title: "步骤三：创建三方审批定义"
source_url: https://open.feishu.cn/document/quickly-develop-three-party-approvals/get-access-token
last_remote_update: 2023-07-24
last_remote_update_timestamp: 1690196626000
---
最后更新于 2023-07-24

# 步骤三：创建三方审批定义

审批定义是指审批的名称、图标、描述等基础信息。你可以通过调用[创建三方审批定义](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/approval-v4/external_approval/create)接口，将三方审批系统与飞书开放平台对接，以确保后续可以通过其他审批服务接口实现三方审批系统与飞书的数据交互。

## 操作步骤

1. 登录 [API 调试台](https://open.feishu.cn/api-explorer/)。

2. 在左侧 **API** **列表** 中，选择 **审批** > **三方审批定义** > **创建三方审批定义**。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/9f67186f57e1f80ca10266e5a0252e00_GPcLwyEpmC.png?height=1444&lazyload=true&maxWidth=600&width=2882)

3. 完成以下参数配置，并点击 **开始调试**。

- **请求头**：**Authorization** 字段以默认配置了应用访问凭证 **tenant_access_token**。

- **查询参数**：

- **department_id_type**：此次调用的请求体中，部门 ID 的类型。本示例选择 **open_department_id**。
        - **user_id_type**：此次调用的请求体中，用户 ID 的类型。本示例选择 **user_id**。

- **请求体**：示例配置以及参数说明请参见以下JSON 示例代码。

注意事项：

- 你可以点击 **请求体** 内的 **恢复示例值**，查看系统提供的示例请求体。

- 在实际使用以下 JSON 示例代码时，需要注意将`//`开头的注释文字去掉后再使用。

- 关于接口完整参数的配置说明，参见[创建三方审批定义](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/approval-v4/external_approval/create)。

```JSON
        {
          "approval_name": "@i18n@1", // 审批定义的名字，这里使用 @i8n@ 定义 key，然后在 i18n_resources 参数中，为该 key 赋 value。
          "approval_code": "permission_test", // 由你自定义的审批定义 code，是审批定义的唯一标识。如果不存在该 code 则新建审批定义。如果存在该 code 则更新对应的审批定义。
          "group_code": "work_group", // 由你自定义的审批定义所属分组 code。如果不存在该 code 则新建分组，且必填 group_name。如果存在该 code 则将审批定义添加至已有分组，此时填写 group_name 会更新分组名称，不填写 group_name 则不更新。
          "group_name": "@i18n@2", // 分组名称，这里使用 @i8n@ 定义 key，然后在 i18n_resources 参数中，为该 key 赋 value。
          "external": { // 三方审批相关参数。
            "create_link_pc": "https://applink.feishu.cn/client/mini_program/open?xxx", // PC 端的审批链接。
            "create_link_mobile": "https://applink.feishu.cn/client/mini_program/open?xxx", // 移动端的审批链接。
            "support_pc": true, // 审批实例、审批任务、审批抄送是否在 PC 端展示。
            "support_mobile": true, // 审批实例、审批任务、审批抄送是否在移动端端展示。
            "action_callback_url": "http://feishu.cn/approval/openapi/operate" // 三方系统的操作回调 URL，用户在飞书中操作审批任务后，会通过该地址通知三方系统。
          },
          "i18n_resources": [ // 审批定义的国际化文案配置。
            {
              "locale": "zh-CN", // 示例配置中仅配置了中文文案。
              "is_default": true,
              "texts": [
                {
                  "key": "@i18n@1",
                  "value": "Admin Demo" // 为 approval_name 赋值。
                },
                {
                  "key": "@i18n@2",
                  "value": "Work Group" // 为 group_name 赋值。
                }
              ]
            }
          ],
          "viewers": [ // 设置审批可见列表。
            {
              "viewer_type": "TENANT" // 可见人的类型。示例值 TENANT 表示租户内均可见。
            }
          ],
          "managers": [
            "454dg724" // 设置审批流程管理员 ID，此处需要填写用户 user_id。
          ]
        }
        ```

调用成功的回显信息如下图所示。
你需要保存回显的`approval_code`字段，后续在同步三方审批数据时，需要基于该字段为审批配置所属的审批定义。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/b0acbb3238f19f71435c76c82b8419b7_xqI4uo0UY6.png?height=672&lazyload=true&maxWidth=600&width=2232)

此时，使用审批可见人的用户信息登录飞书客户端，在 **工作台** > **审批** > **发起申请** 中可以查看到已创建的审批定义。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/b0ba1818ac09861fb75a8e6683c27dc6_UYhFPqHgoy.png?height=1400&lazyload=true&maxWidth=600&width=2882)
