---
title: "校验三方审批实例"
source_url: https://open.feishu.cn/document/quickly-develop-three-party-approvals/three-party-expedited-approval
last_remote_update: 2023-07-24
last_remote_update_timestamp: 1690196189000
---
最后更新于 2023-07-24

# 校验三方审批实例

为确保服务端数据是最新的三方审批实例数据，你可以调用[校验三方审批实例](https://open.feishu.cn/document/uAjLw4CM/ukTMukTMukTM/reference/approval-v4/external_instance/check)接口进行数据校验。当服务端不存在相应的审批实例，或者实例更新时间不是最新数值时，则返回对应的审批实例 ID。后续你可以基于该实例 ID 同步最新的审批数据。本章节介绍如何调用`校验三方审批实例`接口，你可以根据企业系统的实际运行情况，自行在业务中添加该校验逻辑。

## 操作步骤

1. 登录 [API 调试台](https://open.feishu.cn/api-explorer/)。

2. 在左侧 **API 列表** 中，选择 **审批** > **三方审批实例** > **校验三方审批定义**。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/90c5f7420632c77593cdff65faf987d5_JWAF6MXgO6.png?height=1440&lazyload=true&maxWidth=600&width=2882)

3. 完成以下参数配置，并点击 **开始调试**。

- **请求头**：**Authorization** 字段以默认配置了应用访问凭证 **tenant_access_token**。

- **请求体**：示例配置以及参数说明请参见以下JSON 示例代码。

注意事项：

- 你可以点击 **请求体** 内的 **恢复示例值**，查看系统提供的示例请求体。

- 在实际使用以下 JSON 示例代码时，需要注意将`//`开头的注释文字去掉后再使用。

- 其中实例 ID（`instance_id`）和任务ID（`task_id`）在同步三方审批实例时获取，具体参见[步骤四：同步三方审批数据](https://open.feishu.cn/document/home/quickly-develop-three-party-approvals/create-and-update-three-party-approval-definitions)。

```JSON
        {
          "instances": [
            {
              "instance_id": "1234234234242423", // 填写需要校验的审批实例 ID。
              "update_time": "1591603040000", // 填写审批实例最近更新时间。
              "tasks": [
                {
                  "task_id": "112253", // 填写需要校验的审批任务 ID。
                  "update_time": "1591603040000" // 填写审批任务最近更新时间。
                }
              ]
            }
          ]
        }
        ```
    调用成功后的回显信息如下图所示。

- 如果不是最新的更新时间，则返回资源 ID 以及对应的最新更新时间戳。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/9856ebe42d8b9dffcd0b68f069c031e7_FbXdFtJCh8.png?height=1132&lazyload=true&maxWidth=600&width=2242)

- 如果是最新的更新时间，则返回空数据。

![](https://sf3-cn.feishucdn.com/obj/open-platform-opendoc/cd2b00ab52bf36dbfc7617dbc2f934d0_SPk4A98PC8.png?height=744&lazyload=true&maxWidth=600&width=2242)
