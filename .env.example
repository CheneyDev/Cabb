PORT=8080
DATABASE_URL=postgres://postgres:postgres@localhost:5432/plane_integration?sslmode=disable
TIMEZONE=Local

# Plane
PLANE_BASE_URL=https://api.plane.so
PLANE_CLIENT_ID=
PLANE_CLIENT_SECRET=
PLANE_REDIRECT_URI=http://localhost:8080/plane/oauth/callback
PLANE_WEBHOOK_SECRET=
PLANE_APP_BASE_URL=https://app.plane.so

# Feishu (Lark)
LARK_APP_ID=
LARK_APP_SECRET=
LARK_ENCRYPT_KEY=
LARK_VERIFICATION_TOKEN= # 可选：未配置 Encrypt Key 时作为兜底来源校验（Verification Token）

# CNB
# CNB_APP_TOKEN：用于本服务“出站”访问 CNB OpenAPI 的 Bearer Token。
# 获取：在 CNB 平台「个人设置 -> 访问令牌」创建并获取 Token，勾选最小必要权限（如 repo-contents）。
# 参考：docs/cnb-docs/plugins/cnbcool/attachments/README.md 中对 CNB_TOKEN 的说明。
CNB_APP_TOKEN=
# INTEGRATION_TOKEN：供 .cnb.yml 在回调本服务 /ingest/cnb/* 端点时使用的共享密钥。
# 用法：作为请求头 Authorization: Bearer <INTEGRATION_TOKEN> 被本服务校验。
# 获取：自行生成高强度随机字符串（示例：`openssl rand -hex 32` 或 Python secrets），
# 并在 CNB 的流水线/密钥库中配置同名环境变量以注入到 .cnb.yml。参考：docs/design/cnb-integration.md。
INTEGRATION_TOKEN=
CNB_BASE_URL=https://api.cnb.cool
CNB_OUTBOUND_ENABLED=false
CNB_ISSUE_CREATE_PATH=/api/v1/repos/{repo}/issues        # 待确认
CNB_ISSUE_UPDATE_PATH=/api/v1/repos/{repo}/issues/{issue_iid}
CNB_ISSUE_COMMENT_PATH=/api/v1/repos/{repo}/issues/{issue_iid}/comments
CNB_ISSUE_CLOSE_PATH=/api/v1/repos/{repo}/issues/{issue_iid}

# Crypto
ENCRYPTION_KEY=change-me-32-bytes
